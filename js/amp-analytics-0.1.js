(self.AMP=self.AMP||[]).push({m:0,v:"2306202201000",n:"amp-analytics",ev:"0.1",l:!0,f:function(t,e){!function(){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i;function r(){return i||(i=Promise.resolve(void 0))}var o=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function s(t){return new Promise((function(e){e(t())}))}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}var v=Array.isArray;function m(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function p(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)==n}function g(t,e,n){for(var i=n||1,r=function(n){var i=0;if(t=t.replace(/\${([^{}]*)}/g,(function(t,n){return i++,e(n)})),!i)return"break"},o=0;o<i&&"break"!==r();o++);return t}var E,A=Object.prototype,T=A.hasOwnProperty,S=A.toString;function b(t){return"[object Object]"===S.call(t)}function y(t){var e=Object.create(null);return t&&Object.assign(e,t),e}function w(t,e){return T.call(t,e)}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=[],r=[];for(r.push({t:t,s:e,d:0});r.length>0;){var o=r.shift(),s=o.d,a=o.s,u=o.t;if(i.includes(a))throw new Error("Source object has a circular reference.");if(i.push(a),u!==a)if(s>n)Object.assign(u,a);else for(var c=0,h=Object.keys(a);c<h.length;c++){var l=h[c],f=a[l];if(w(u,l)){var d=u[l];if(b(f)&&b(d)){r.push({t:d,s:f,d:s+1});continue}}u[l]=f}}return t}function N(t){return"number"==typeof t&&isFinite(t)}function I(t,e,n,i,r,o,s,a,u,c,h){return t}function O(t){return JSON.parse(t)}function _(t,e){try{return O(t)}catch(t){return null==e||e(t),null}}function M(t){return(t.ownerDocument||t).defaultView}function P(t){return void 0!==E?E:E=function(t){try{var e=t.ownerDocument,n=e.createElement("div"),i=e.createElement("div");return n.appendChild(i),n.querySelector(":scope div")===i}catch(t){return!1}}(t)}function C(t,e){return t.replace(/^|,/g,"$&".concat(e," "))}function x(t,e){var n=t.classList,i="i-amphtml-scoped";n.add(i);var r=C(e,".".concat(i)),o=t.querySelectorAll(r);return n.remove(i),o}function D(t,e){if(P(t))return t.querySelector(C(e,":scope"));var n=x(t,e)[0];return void 0===n?null:n}function L(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return!!n&&n.call(t,e)}function k(t,e){return t.closest?t.closest(e):function(t,e,n){var i;for(i=t;i&&void 0!==i;i=i.parentElement)if(e(i))return i;return null}(t,(function(t){return L(t,e)}))}function U(t,e,n){return function(t,e){for(var n in e)t.setAttribute(n,e[n]);return t}(t.createElement(e),n)}function B(t,e,n){var i=e||function(t){return t},r=t.dataset,o={},s=n||/^param(.+)/;for(var a in r){var u=a.match(s);u&&(o[i(u[1][0].toLowerCase()+u[1].substr(1))]=r[a])}return o}function V(t){return t.parent&&t.parent!=t}function q(t){var e=Object.getOwnPropertyDescriptor(t,"message");if(null!=e&&e.writable)return t;var n=t.message,i=t.stack,r=new Error(n);for(var o in t)r[o]=t[o];return r.stack=i,r}function F(t){for(var e,i=null,r="",o=n(arguments,!0);!(e=o()).done;){var s=e.value;s instanceof Error&&!i?i=q(s):(r&&(r+=" "),r+=s)}return i?r&&(i.message=r+": "+i.message):i=new Error(r),i}function H(t){var e,n;null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t)}function j(t){var e=F.apply(null,arguments);setTimeout((function(){throw H(e),e}))}var G=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return e}}function Y(t){var e,n=y();if(!t)return n;for(;e=G.exec(t);){var i=Q(e[1],e[1]),r=e[2]?Q(e[2].replace(/\+/g," "),e[2]):"";n[i]=r}return n}function W(t){var e=(t||self).location;return Y(e.originalHash||e.hash)}var z="";function K(t){var e=t||self;return e.__AMP_MODE?e.__AMP_MODE:e.__AMP_MODE=function(t){return{localDev:!1,development:X(t,W(t)),esm:!1,test:!1,rtvVersion:Z(t),ssrReady:!1}}(e)}function Z(t){var e;return z||(z=(null===(e=t.AMP_CONFIG)||void 0===e?void 0:e.v)||"01".concat("2306202201000")),z}function X(t,e){var n=e||W(t);return["1","actions","amp","amp4ads","amp4email"].includes(n.development)||!!t.AMP_DEV_MODE}var $=self.AMP.config.urls;function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var tt=self.__AMP_LOG;function et(t,e){throw new Error("failed to call initLogConstructor")}function nt(t){return tt.user||(tt.user=it()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(tt.user.win,t)?tt.userForEmbed||(tt.userForEmbed=it()):tt.user}function it(t){return et()}function rt(){return tt.dev||(tt.dev=et())}function ot(t,e,n,i,r,o,s,a,u,c,h){return t}function st(t,e,n,i,r,o,s,a,u,c,h){return nt().assert(t,e,n,i,r,o,s,a,u,c,h)}function at(t,e){return pt(t=ft(t),e)}function ut(t,e){return pt(mt(vt(t)),e)}function ct(t,e){var n=mt(vt(t));return Tt(n,e)?pt(n,e):null}function ht(t,e){return function(t,e){var n=Et(t,e);if(n)return n;var i,r,s,a,u=At(t);return u[e]=(r=(i=new o).promise,s=i.reject,a=i.resolve,r.catch((function(){})),{obj:null,promise:r,resolve:a,reject:s,context:null,ctor:null}),u[e].promise}(mt(t),e)}function lt(t,e){return Et(mt(t),e)}function ft(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function dt(t,e){var n=(t.ownerDocument||t).defaultView,i=e||ft(n);if(n&&n!=i&&ft(n)==i)try{return n.frameElement}catch(t){}return null}function vt(t){return t.nodeType?(e=M(t),at(e,"ampdoc")).getAmpDoc(t):t;var e}function mt(t){var e=vt(t);return e.isSingleDoc()?e.win:e}function pt(t,e){ot(Tt(t,e));var n=At(t)[e];return n.obj||(ot(n.ctor),ot(n.context),n.obj=new n.ctor(n.context),ot(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function gt(t,e,n,i,r,o){var s=At(t),a=s[n];a||(a=s[n]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:o||!1}),!r&&a.ctor||(a.ctor=i,a.context=e,a.sharedInstance=o||!1,a.resolve&&pt(t,n))}function Et(t,e){var n=At(t)[e];return n?n.promise?n.promise:(pt(t,e),n.promise=Promise.resolve(n.obj)):null}function At(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function Tt(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}function St(t,e,n,i){var r=lt(t,e);if(r)return r;var o=vt(t);return o.whenExtensionsKnown().then((function(){var t=o.getExtensionVersion(n);return t?at(o.win,"extensions").waitForExtension(n,t):null})).then((function(n){return n?i?lt(t,e):ht(t,e):null}))}var bt,yt=function(t){return vt(t)},wt=function(t){return at(t,"crypto")},Rt=function(t){return at(t,"performance")},Nt=function(t){return at(t,"preconnect")},It=function(t){return pt(t,"timer")},Ot=function(t){return ct(t,"url-replace")},_t=function(t){return St(t,"consentPolicyManager","amp-consent")},Mt=function(t){return ct(t,"url")},Pt=function(t){return ut(t,"viewport")},Ct=function(t){return at(t,"xhr")};function xt(t,e,n,i){var r=t,o=n,s=function(t){try{return o(t)}catch(t){var e,n;throw null===(e=(n=self).__AMP_REPORT_ERROR)||void 0===e||e.call(n,t),t}},a=function(){if(void 0!==bt)return bt;bt=!1;try{var t={get capture(){return bt=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return bt}(),u=!(null==i||!i.capture);return r.addEventListener(e,s,a?i:u),function(){null==r||r.removeEventListener(e,s,a?i:u),o=null,r=null,s=null}}function Dt(t,e,n,i){return xt(t,e,n,i)}function Lt(t){return t.data}function kt(t,e,n,i){var r=n,o=xt(t,e,(function(t){try{r(t)}finally{r=null,o()}}),i);return o}function Ut(t){return"AUDIO"===t.tagName||"VIDEO"===t.tagName}var Bt="active";function Vt(t,e){var n=0;return t.type===Bt&&(n=5),Math.min(e-t.time,n)}var qt=function(){function t(){this.tEt=0,this.nEt=void 0}var e=t.prototype;return e.push=function(t){this.nEt&&this.nEt.time<t.time&&(this.tEt+=Vt(this.nEt,t.time)),this.nEt=t},e.getTotalEngagedTime=function(t){var e=0;return void 0!==this.nEt&&(e=this.tEt+Vt(this.nEt,t)),e},t}(),Ft=["mousedown","mouseup","mousemove","keydown","keyup"],Ht=["mouseleave"],jt=function(){function t(t){this.ampdoc=t,this.iEt=this.rEt.bind(this),this.eEt=this.uEt.bind(this),this.sEt=this.oEt.bind(this),this.aEt=this.hEt.bind(this),this.cEt={},this.fEt=[],this.lEt=!1,this.vEt=!1,this.dEt=new qt,this.Ss=Pt(this.ampdoc),this.ampdoc.whenFirstVisible().then(this.Bu.bind(this))}var e=t.prototype;return e.Bu=function(){this.fh=Date.now(),this.uEt(),this.mEt()},e.pEt=function(){var t=Date.now()-this.fh;return t>0?t:0},e.rEt=function(){this.lEt=!1,this.vEt=!1},e.mEt=function(){this.bEt(this.ampdoc.getRootNode(),Ft,this.eEt),this.bEt(this.ampdoc.getRootNode(),Ht,this.sEt),this.fEt.push(this.ampdoc.onVisibilityChanged(this.aEt)),this.Ss.onScroll(this.eEt)},e.bEt=function(t,e,n){for(var i=0;i<e.length;i++)this.fEt.push(Dt(t,e[i],n))},e.uEt=function(){this.lEt||(this.lEt=!0,this.vEt=!1,this.EEt(Bt))},e.oEt=function(){this.vEt||(this.vEt=!0,this.lEt=!1,this.EEt("inactive"))},e.EEt=function(t){var e=this.pEt(),n=Math.floor(e/1e3),i=1e3-e%1e3;setTimeout(this.iEt,i),this.dEt.push({type:t,time:n})},e.hEt=function(){this.ampdoc.isVisible()?this.uEt():this.oEt()},e.vy=function(){for(var t=0;t<this.fEt.length;t++){var e=this.fEt[t];"function"==typeof e&&e()}this.fEt=[]},e.As=function(){this.vy()},e.getTotalEngagedTime=function(){var t=Math.floor(this.pEt()/1e3);return this.dEt.getTotalEngagedTime(t)},e.getIncrementalEngagedTime=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!w(this.cEt,t))return e&&(this.cEt[t]=this.getTotalEngagedTime()),this.getTotalEngagedTime();var n=this.cEt[t];return!1===e?this.getTotalEngagedTime()-n:(this.cEt[t]=this.getTotalEngagedTime(),this.cEt[t]-n)},t}();function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Yt="__AMP__EXPERIMENT_TOGGLES",Wt=JSON.parse('{"transport":{"beacon":true,"xhrpost":true,"image":true},"vars":{"accessReaderId":"ACCESS_READER_ID","ampGeo":"AMP_GEO","ampState":"AMP_STATE","ampVersion":"AMP_VERSION","ampdocHost":"AMPDOC_HOST","ampdocHostname":"AMPDOC_HOSTNAME","ampdocMeta":"AMPDOC_META","ampdocUrl":"AMPDOC_URL","authdata":"AUTHDATA","availableScreenHeight":"AVAILABLE_SCREEN_HEIGHT","availableScreenWidth":"AVAILABLE_SCREEN_WIDTH","backgroundState":"BACKGROUND_STATE","browserLanguage":"BROWSER_LANGUAGE","canonicalHost":"CANONICAL_HOST","canonicalHostname":"CANONICAL_HOSTNAME","canonicalPath":"CANONICAL_PATH","canonicalUrl":"CANONICAL_URL","clientId":"CLIENT_ID","consentState":"CONSENT_STATE","consentString":"CONSENT_STRING","contentLoadTime":"CONTENT_LOAD_TIME","cookie":"COOKIE","counter":"COUNTER","cumulativeLayoutShift":"CUMULATIVE_LAYOUT_SHIFT","documentCharset":"DOCUMENT_CHARSET","documentReferrer":"DOCUMENT_REFERRER","domInteractiveTime":"DOM_INTERACTIVE_TIME","domainLookupTime":"DOMAIN_LOOKUP_TIME","experimentBranches":"EXPERIMENT_BRANCHES","externalReferrer":"EXTERNAL_REFERRER","firstContentfulPaint":"FIRST_CONTENTFUL_PAINT","firstInputDelay":"FIRST_INPUT_DELAY","firstViewportReady":"FIRST_VIEWPORT_READY","fragmentParam":"FRAGMENT_PARAM","htmlAttr":"HTML_ATTR","incrementalEngagedTime":"INCREMENTAL_ENGAGED_TIME","largestContentfulPaint":"LARGEST_CONTENTFUL_PAINT","makeBodyVisible":"MAKE_BODY_VISIBLE","navRedirectCount":"NAV_REDIRECT_COUNT","navTiming":"NAV_TIMING","navType":"NAV_TYPE","pageDownloadTime":"PAGE_DOWNLOAD_TIME","pageLoadTime":"PAGE_LOAD_TIME","pageViewId":"PAGE_VIEW_ID","pageViewId64":"PAGE_VIEW_ID_64","queryParam":"QUERY_PARAM","random":"RANDOM","redirectTime":"REDIRECT_TIME","resourceTiming":"RESOURCE_TIMING","screenColorDepth":"SCREEN_COLOR_DEPTH","screenHeight":"SCREEN_HEIGHT","screenWidth":"SCREEN_WIDTH","scrollHeight":"SCROLL_HEIGHT","scrollLeft":"SCROLL_LEFT","scrollTop":"SCROLL_TOP","scrollWidth":"SCROLL_WIDTH","sessionId":"SESSION_ID","sessionCount":"SESSION_COUNT","sessionEngaged":"SESSION_ENGAGED","sessionEventTimestamp":"SESSION_EVENT_TIMESTAMP","sessionTimestamp":"SESSION_TIMESTAMP","serverResponseTime":"SERVER_RESPONSE_TIME","sourceHost":"SOURCE_HOST","sourceHostname":"SOURCE_HOSTNAME","sourcePath":"SOURCE_PATH","sourceUrl":"SOURCE_URL","tcpConnectTime":"TCP_CONNECT_TIME","timestamp":"TIMESTAMP","timezone":"TIMEZONE","timezoneCode":"TIMEZONE_CODE","title":"TITLE","totalEngagedTime":"TOTAL_ENGAGED_TIME","uach":"UACH","userAgent":"USER_AGENT","viewer":"VIEWER","viewportHeight":"VIEWPORT_HEIGHT","viewportWidth":"VIEWPORT_WIDTH"}}');function zt(t){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(t):Kt(unescape(encodeURIComponent(t)))}function Kt(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++){var i=t.charCodeAt(n);I(i<=255),e[n]=i}return e}function Zt(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}var Xt={"-":"+",_:"/",".":"="},$t={"+":"-","/":"_","=":"."};function Jt(t){return function(t){var e=Zt(t);return btoa(e).replace(/[+/=]/g,(function(t){return $t[t]}))}(zt(t))}var te,ee,ne=function(){function t(t){this.B=t,this.X=0,this.Y=0,this.nn=y()}var e=t.prototype;return e.has=function(t){return!!this.nn[t]},e.get=function(t){var e=this.nn[t];if(e)return e.access=++this.Y,e.payload},e.put=function(t,e){this.has(t)||this.X++,this.nn[t]={payload:e,access:this.Y},this.tn()},e.tn=function(){if(!(this.X<=this.B)){var t,e=this.nn,n=this.Y+1;for(var i in e){var r=e[i].access;r<n&&(n=r,t=i)}void 0!==t&&(delete e[t],this.X--)}},t}(),ie=self.AMP.config.urls,re=new Set(["c","v","a","ad"]),oe=function(t){return"string"==typeof t?se(t):t};function se(t,e){return te||(te=self.document.createElement("a"),ee=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new ne(100))),function(t,e,n){if(n&&n.has(e))return n.get(e);t.href=e,t.protocol||(t.href=t.href);var i,r={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==r.pathname[0]&&(r.pathname="/"+r.pathname),("http:"==r.protocol&&80==r.port||"https:"==r.protocol&&443==r.port)&&(r.port="",r.host=r.hostname),i=t.origin&&"null"!=t.origin?t.origin:"data:"!=r.protocol&&r.host?r.protocol+"//"+r.host:r.href,r.origin=i;var o=r;return n&&n.put(e,o),o}(te,t,e?null:ee)}function ae(t,e,n){if(!e)return t;var i=t.split("#",2),r=i[0].split("?",2);return r[0]+(r[1]?n?"?".concat(e,"&").concat(r[1]):"?".concat(r[1],"&").concat(e):"?".concat(e))+(i[1]?"#".concat(i[1]):"")}function ue(t,e){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))}function ce(t){var e,n=[];for(var i in t){var r=t[i];if(null!=r){r=v(e=r)?e:[e];for(var o=0;o<r.length;o++)n.push(ue(i,r[o]))}}return n.join("&")}function he(t){return"https:"==(t=oe(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||p(t.hostname,".localhost")}function le(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return st(null!=t,"%s %s must be available",e,n),st(he(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',e,n,t),t}function fe(t){return ie.cdnProxyRegex.test(oe(t).origin)}function de(t,e){if(!t||"?"==t)return"";var n=new RegExp("[?&]".concat(e,"\\b[^&]*"),"g"),i=t.replace(n,"").replace(/^[?&]/,"");return i?"?"+i:""}var ve,me=self.AMP.config.urls,pe="-test-amp-cookie-tmp",ge="None";function Ee(t,e){var n=function(t){try{return t.document.cookie}catch(t){return""}}(t);if(!n)return null;for(var i=n.split(";"),r=0;r<i.length;r++){var o=i[r].trim(),s=o.indexOf("=");if(-1!=s&&Q(o.substring(0,s).trim())==e){var a=o.substring(s+1).trim();return Q(a,a)}}return null}function Ae(t){var e=t.document.head&&t.document.head.querySelector("meta[name='amp-cookie-scope']");if(e){var n=e.getAttribute("content")||"",i=se(function(t){if(!fe(t=oe(t)))return t.href;var e=t.pathname.split("/"),n=e[1];st(re.has(n),"Unknown path prefix in url %s",t.href);var i=e[2],r="s"==i?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(i);return st(r.indexOf(".")>0,"Expected a . in origin %s",r),e.splice(1,"s"==i?3:2),r+e.join("/")+de(t.search,"(amp_(js[^&=]*|gsa|r|kit)|usqp)")+(t.hash||"")}(t.location.href)).origin;return p(i,"."+n)?n:i.split("://")[1]}if(!fe(t.location.href))for(var r=t.location.hostname.split("."),o=r[r.length-1],s=function(t){for(var e=pe;Ee(t,e);)e=pe+0;return e}(t),a=r.length-2;a>=0;a--)if(o=r[a]+"."+o,Te(t,s,"delete",Date.now()+1e3,o),"delete"==Ee(t,s))return Te(t,s,"delete",Date.now()-1e3,o),o;return null}function Te(t,e,n,i,r,o,s){"ampproject.org"==r&&(n="delete",i=0);var a=encodeURIComponent(e)+"="+encodeURIComponent(n)+"; path=/"+(r?"; domain="+r:"")+"; expires="+new Date(i).toUTCString()+function(t,e){return e?"; SameSite=".concat(e):""}(0,o)+(s?"; Secure":"");try{t.document.cookie=a}catch(t){}}function Se(t,e,n){if(e.allowOnProxyOrigin)st(!e.highestAvailableDomain,"Could not support highestAvailable Domain on proxy origin, specify domain explicitly");else{st(!fe(t.location.href),"Should never attempt to set cookie on proxy origin: ".concat(n));var i=se(t.location.href).hostname.toLowerCase(),r=se(me.cdn).hostname.toLowerCase();st(!(i==r||p(i,"."+r)),"Should never attempt to set cookie on proxy origin. (in depth check): "+n)}}function be(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}var ye=["Webkit","webkit","Moz","moz","ms","O","o"],we={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function Re(t,e,n){if(e.startsWith("--"))return e;ve||(ve=y());var i=ve[e];if(!i||n){if(i=e,void 0===t[e]){var r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),o=function(t,e){for(var n=0;n<ye.length;n++){var i=ye[n]+e;if(void 0!==t[i])return i}return""}(t,r);void 0!==t[o]&&(i=o)}n||(ve[e]=i)}return i}function Ne(t,e,n,i,r){var o=Re(t.style,e,r);if(o){var s,a=i?n+i:n;t.style.setProperty((s=o.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})),ye.some((function(t){return s.startsWith(t+"-")}))?"-".concat(s):s),a)}}function Ie(t,e){void 0===e&&(e=t.hasAttribute("hidden")),e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}var Oe="unlisten";function _e(t,e,n){var i=function(t,e){var n=t.listeningFors;return!n&&e&&(n=t.listeningFors=Object.create(null)),n||null}(t,n);if(!i)return i;var r=i[e];return!r&&n&&(r=i[e]=[]),r||null}function Me(t,e){for(var n=e;n&&n!=n.parent;n=n.parent)if(n==t)return!0;return!1}function Pe(t){for(var e={sentinel:Oe},n=t.length-1;n>=0;n--){var i=t[n];if(!i.frame.contentWindow){t.splice(n,1);var r=i.events;for(var o in r)r[o].splice(0,1/0).forEach((function(t){t(e)}))}}}function Ce(t,e){return e?t.getAttribute("data-amp-3p-sentinel"):"amp"}var xe=function(){function t(t,e,n,i){var r=this;this.Xd=t,this.tg=n,this.ng=[],this.vy=function(t,e,n,i,r,o){ot(t.src),ot(!t.parentNode),ot(n);var s=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(e){if(Lt(e)){var n=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?_(t,(function(t){rt().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",t)}))||null:be(t)?function(t){if(!be(t))return null;var e=t.indexOf("{");return I(-1!=e),_(t.substr(e),(function(e){j(new Error("MESSAGING: Failed to parse message: ".concat(t,"\n").concat(e.message)))}))}(t):null),t}(Lt(e));if(n&&n.sentinel){var i=function(t,e,n,i){var r,o=_e(t,e);if(!o)return o;for(var s=0;s<o.length;s++){var a=o[s],u=a.frame.contentWindow;if(u){if(i==u||Me(u,i)){r=a;break}}else setTimeout(Pe,0,o)}return r?r.events:null}(t,n.sentinel,e.origin,e.source);if(i){var r=i[n.type];if(r){r=r.slice();for(var o=0;o<r.length;o++)(0,r[o])(n,e.source,e.origin,e)}}}}}))}(s);var a,u=function(t,e,n){for(var i,r=_e(t,Ce(e,n),!0),o=0;o<r.length;o++){var s=r[o];if(s.frame===e){i=s;break}}return i||(i={frame:e,events:Object.create(null)},r.push(i)),i.events}(s,t,i),c=se(t.src).origin,h=u[e]||(u[e]=[]),l=function(e,i,o,s){if("amp"==e.sentinel){if(i!=t.contentWindow)return;if(c!=o)return}(r||i==t.contentWindow)&&(e.sentinel!=Oe?n(e,i,o,s):a())};return h.push(l),a=function(){if(l){var t=h.indexOf(l);t>-1&&h.splice(t,1),l=null,h=null,n=null}}}(this.Xd,e,(function(t,e,n){r.ng.some((function(t){return t.win==e}))||r.ng.push({win:e,origin:n}),i(t,e,n)}),this.tg,this.tg)}var e=t.prototype;return e.send=function(t,e){(function(t,e){for(var n=[],i=0,r=0;r<t.length;r++){var o=t[r];o.win.parent?(i<r&&(t[i]=o),i++):n.push(o)}i<t.length&&(t.length=i)})(this.ng),function(t,e,n,i,r){if(t.contentWindow){i.type=n,i.sentinel=Ce(t,r);var o=i;r&&(o="amp-"+JSON.stringify(i));for(var s=0;s<e.length;s++){var a=e[s];a.win.postMessage(o,a.origin)}}}(this.Xd,this.ng,t,e,this.tg)},e.destroy=function(){this.vy(),this.ng.length=0},t}();function De(t){return t.__AMP_EMBED__}function Le(t){return t.classList.contains("i-amphtml-fie")||!!k(t,".i-amphtml-fie")}function ke(t,e){return!(Le(e)||fe(t.location)||"inabox"==K(t).runtime)}var Ue=function(){function t(){}return t.getTop=function(t){return t.top},t.getLocation=function(t){return t.location},t.getDocumentReferrer=function(t){return t.document.referrer},t.getHostname=function(t){return t.location.hostname},t.getUserAgent=function(t){return t.navigator.userAgent},t.getUserLanguage=function(t){return t.navigator.userLanguage||t.navigator.language},t.getDevicePixelRatio=function(){return self.devicePixelRatio||1},t.getSendBeacon=function(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)},t.getXMLHttpRequest=function(t){return t.XMLHttpRequest},t.getImage=function(t){return t.Image},t}(),Be=null,Ve="*",qe=/^[a-zA-Z0-9\-_.]+$/,Fe="amp-analytics/linker";function He(t,e){var n,i=(n=e)?Object.keys(n).filter((function(t){var e=qe.test(t);return e||nt().error(Fe,"Invalid linker key: "+t),e})).map((function(t){return t+Ve+(e=n[t],Jt(String(e)));var e})).join(Ve):"";return""===i?"":[t,je(i),i].join(Ve)}function je(t,e){var n,i,r=e||0;return function(t){Be||(Be=function(){for(var t=new Array(256),e=0;e<256;e++){for(var n=e,i=0;i<8;i++)1&n?n=n>>>1^3988292384:n>>>=1;t[e]=n}return t}());for(var e=zt(t),n=-1>>>0,i=0;i<e.length;i++){var r=255&(n^e[i]);n=n>>>8^Be[r]}return(-1^n)>>>0}([(n=(new Date).getTimezoneOffset(),i=Ue.getUserLanguage(window),[Ue.getUserAgent(window),n,i].join(Ve)),Math.floor(Date.now()/6e4)-r,t].join(Ve)).toString(36)}function Ge(t){return function(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);var e=Zt(new Uint8Array(t.buffer||t));return decodeURIComponent(escape(e))}(function(t){return Kt(atob(t.replace(/[-_.]/g,(function(t){return Xt[t]}))))}(String(t)))}var Qe=function(){function t(t){this.t=t,this.K1={}}var e=t.prototype;return e.get=function(t,e){return t&&e?(w(this.K1,t)||(this.K1[t]=this.gEt(t)),this.K1[t]&&this.K1[t][e]?this.K1[t][e]:null):(nt().error("amp-analytics/linker-reader","LINKER_PARAM requires two params, name and id"),null)},e.gEt=function(t){var e=Y(this.t.location.search);if(!w(e,t))return null;var n=e[t];return this.TEt(this.t.location,t),function(t){var e=function(t){var e=t.split(Ve),n=e.length%2==0;if(e.length<4||!n)return nt().error(Fe,"Invalid linker_param value ".concat(t)),null;var i=Number(e.shift());return 1!==i?(nt().error(Fe,"Invalid version number ".concat(i)),null):{checksum:e.shift(),serializedIds:e.join(Ve)}}(t);if(!e)return null;var n=e.checksum,i=e.serializedIds;return function(t,e){for(var n=0;n<=1;n++)if(je(t,n)==e)return!0;return!1}(i,n)?function(t){for(var e={},n=t.split(Ve),i=0;i<n.length;i+=2){var r=n[i];if(qe.test(r)){var o=Ge(n[i+1]);e[r]=o}else nt().error(Fe,"Invalid linker key ".concat(r,", value ignored"))}return e}(i):(nt().error(Fe,"LINKER_PARAM value checksum not valid"),null)}(n)},e.TEt=function(t,e){if(this.t.history.replaceState){var n=de(t.search,e),i=t.origin+t.pathname+n+(t.hash||"");this.t.history.replaceState(null,"",i)}},t}(),Ye="visible",We="amp-analytics/session-manager",ze="sessionId",Ke="creationTimestamp",Ze="accessTimestamp",Xe="engaged",$e="eventTimestamp",Je="count",tn=function(){function t(t){this.A0=ht(t,"storage"),this.yEt=y(),this.xi=t,this.t=t.win,this.Yb=[],this.wEt=null,this.qi=null,this.SEt=!0,this.ze()}var e=t.prototype;return e.ze=function(){var t=this;this.AEt(),this.Yb.push(Dt(this.t,"focus",(function(){t.wEt=!0,t.OEt()})),Dt(this.t,"blur",(function(){t.wEt=!1,t.OEt()})),Dt(this.t,"pageshow",(function(){t.SEt=!0,t.OEt()})),Dt(this.t,"pagehide",(function(){t.SEt=!1,t.OEt()})),this.xi.onVisibilityChanged((function(){t.qi=t.xi.isVisible(),t.OEt()})))},e.AEt=function(){this.wEt=this.t.document.hasFocus(),this.qi=!(function(t){var e=t[Re(t,"visibilityState",!0)];if(e)return e;var n=Re(t,"hidden",!0);return n in t&&t[n]?"hidden":Ye}(this.t.document)!=Ye)},e.OEt=function(){var t=this;Object.keys(this.yEt).forEach((function(e){var n=t.yEt[e];n.engaged=t.NEt(),t.IEt(e,n)}))},e.dispose=function(){this.Yb.forEach((function(t){t()})),this.Yb.length=0},e.getSessionValue=function(t,e){return this.get(t).then((function(t){return null==t?void 0:t[e]}))},e.updateEvent=function(t){return this.get(t,(function(t){t.eventTimestamp=Date.now()}))},e.get=function(t,e){return t?w(this.yEt,t)&&!en(this.yEt[t])?(this.yEt[t]=this._Et(this.yEt[t]),null==e||e(this.yEt[t]),this.IEt(t,this.yEt[t]),Promise.resolve(this.yEt[t])):this.REt(t,e):(nt().error(We,"Sessions can only be accessed with a vendor type."),Promise.resolve(null))},e.REt=function(t,e){var n=this;return this.A0.then((function(e){var n=rn(t);return e.get(n)})).then((function(t){return t?n._Et(b(e=t)?(J(r={},ze,e.sessionId),J(r,Ke,e.creationTimestamp),J(r,Je,e.count),J(r,Ze,e.accessTimestamp),J(r,$e,e.eventTimestamp),J(r,Xe,null===(i=e.engaged)||void 0===i||i),r):(rt().error(We,"Invalid stored session value"),on()),!0):on(n.NEt());var e,i,r})).then((function(i){return t in n.yEt&&!en(n.yEt[t])||(null==e||e(i),n.IEt(t,i),n.yEt[t]=i),n.yEt[t]}))},e._Et=function(t,e){var n=t.count,i=Date.now();if(en(t)){var r=(null!=n?n:0)+1;t=on(this.NEt(),r)}else{var o=e&&t.engaged;t.engaged=o||this.NEt(),o&&(this.wEt=!0,this.SEt=!0,this.qi=!0)}return t.accessTimestamp=i,t},e.NEt=function(){return this.SEt&&this.qi&&this.wEt},e.IEt=function(t,e){return this.A0.then((function(n){var i=rn(t);n.setNonBoolean(i,e)}))},t}();function en(t){return t.accessTimestamp+18e5<Date.now()}function nn(){return Math.round(1e4*Math.random())}function rn(t){return"amp-session:"+t}function on(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return J(e={},ze,nn()),J(e,Ke,Date.now()),J(e,Ze,Date.now()),J(e,Je,n),J(e,$e,void 0),J(e,Xe,t),e}function sn(t){return ht(t,"amp-analytics-session")}function an(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return _t(t).then((function(t){return t?t.getConsentStringInfo(e):null}))}var un="amp-analytics/variables",cn=/^(?:([^\s]*)(\([^)]*\))|[^]+)$/,hn={1:"sufficient",2:"insufficient",3:"not_required",4:"unknown"},ln=function(){function t(t,e,n){this.vars=t,this.iterations=void 0===e?2:e,this.noEncode=!!n,this.freezeVars={}}var e=t.prototype;return e.freezeVar=function(t){this.freezeVars[t]=!0},e.getVar=function(t){var e=this.vars[t];return null==e&&(e=""),e},t}();function fn(t,e,n){var i=Number(e),r=t.length;return st(N(i),"Start index "+i+"in substr macro should be a number"),n&&st(N(r=Number(n)),"Length "+r+" in substr macro should be a number"),t.substr(i,r)}function dn(t,e){return t&&t.length?t:e}function vn(t,e,n){e||nt().warn(un,"REPLACE macro must have two or more arguments"),n||(n="");var i=new RegExp(e,"g");return t.replace(i,n)}function mn(t,e,n){e||nt().warn(un,"MATCH macro must have two or more arguments");var i=0;n&&(0!=(i=parseInt(n,10))&&!i||i<0)&&(nt().error(un,"Third argument in MATCH macro must be a number >= 0"),i=0);var r=new RegExp(e),o=t.match(r);return o&&o[i]?o[i]:""}function pn(t,e,n,i){var r=Number(t),o=Number(e);st(!isNaN(r),"CALC macro - left operand must be a number"),st(!isNaN(o),"CALC macro - right operand must be a number");var s=0;switch(n){case"add":s=r+o;break;case"subtract":s=r-o;break;case"multiply":s=r*o;break;case"divide":st(o,"CALC macro - cannot divide by 0"),s=r/o;break;default:nt().error(un,"CALC macro - Invalid operation")}return yn(i)?Math.round(s):s}var gn=function(){function t(t){var e=this;this.xi=t,this.AU={},this.Q1=at(this.xi.win,"amp-analytics-linker-reader"),this.PEt=sn(this.xi),this.BF("$DEFAULT",dn),this.BF("$SUBSTR",fn),this.BF("$TRIM",(function(t){return t.trim()})),this.BF("$TOLOWERCASE",(function(t){return t.toLowerCase()})),this.BF("$TOUPPERCASE",(function(t){return t.toUpperCase()})),this.BF("$NOT",(function(t){return String(!t)})),this.BF("$BASE64",(function(t){return Jt(t)})),this.BF("$HASH",this.CEt.bind(this)),this.BF("$IF",(function(t,e,n){return yn(t)?e:n})),this.BF("$REPLACE",vn),this.BF("$MATCH",mn),this.BF("$CALC",pn),this.BF("$EQUALS",(function(t,e){return t===e})),this.BF("LINKER_PARAM",(function(t,n){return e.Q1.get(t,n)})),this.BF("TIMEZONE_CODE",(function(){var t="";return"Intl"in e.xi.win&&"DateTimeFormat"in e.xi.win.Intl&&(t=(new e.xi.win.Intl.DateTimeFormat).resolvedOptions().timeZone),t})),this.BF("SCROLL_TOP",(function(){return Math.round(Pt(e.xi).getScrollTop())})),this.BF("SCROLL_LEFT",(function(){return Math.round(Pt(e.xi).getScrollLeft())})),this.BF("EXPERIMENT_BRANCHES",(function(t){return function(t,e){if(e)return function(t,e){return t.__AMP_EXPERIMENT_BRANCHES?t.__AMP_EXPERIMENT_BRANCHES[e]:null}(t,e)||"";var n=function(t){var e=ft(t);return e.__AMP_EXPERIMENT_BRANCHES||(e.__AMP_EXPERIMENT_BRANCHES={}),Qt({},e.__AMP_EXPERIMENT_BRANCHES)}(t);return Object.keys(n).map((function(t){return"".concat(t,":").concat(n[t])})).join(",")}(e.xi.win,t)})),this.BF("AMPDOC_META",(function(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(n=e.xi.getMetaByName(t))&&void 0!==n?n:i}))}var e=t.prototype;return e.getMacros=function(t){var e=this,n=t.getAttribute("type"),i={COOKIE:function(n){return function(t,e,n){return ke(t,e)?Ee(t,n):null}(e.xi.win,t,n)},CONSENT_STATE:bn(t),CONSENT_STRING:an(t),CONSENT_METADATA:function(e){return function(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return _t(t).then((function(t){return t?t.getConsentMetadataInfo(e):null}))}(t).then((function(t){return t?t[e]:null}))}(t,st(e,"CONSENT_METADATA macro must contain a key"))},SESSION_ID:function(){return e.MEt(n,ze)},SESSION_TIMESTAMP:function(){return e.MEt(n,Ke)},SESSION_COUNT:function(){return e.MEt(n,Je)},SESSION_EVENT_TIMESTAMP:function(){return e.MEt(n,$e)},SESSION_ENGAGED:function(){return e.MEt(n,Xe)}},r=Le(t)?{}:{FIRST_CONTENTFUL_PAINT:function(){return Rt(e.xi.win).getMetric("fcpv")},FIRST_VIEWPORT_READY:function(){return Rt(e.xi.win).getMetric("pc")},MAKE_BODY_VISIBLE:function(){return Rt(e.xi.win).getMetric("mbv")},LARGEST_CONTENTFUL_PAINT:function(){return Rt(e.xi.win).getMetric("lcpv")},FIRST_INPUT_DELAY:function(){return Rt(e.xi.win).getMetric("fid")},CUMULATIVE_LAYOUT_SHIFT:function(){return Rt(e.xi.win).getMetric("cls")}};return Qt(Qt(Qt({},this.AU),i),r)},e.MEt=function(t,e){return this.PEt.then((function(n){return n.getSessionValue(t,e)}))},e.BF=function(t,e){ot(!this.AU[t]),this.AU[t]=e},e.expandTemplate=function(t,e,n,i,r){var o,s,a,u,c,h=this;return s=/\${([^{}]*)}/g,a=function(t,o){if(e.iterations<0)return nt().error(un,"Maximum depth reached while expanding variables. Please ensure that the variables are not recursive."),t;if(!o)return"";var s=An(o),a=s.argList,u=s.name;if(e.freezeVars[u])return t;var c=e.getVar(u),l=Ot(n);if("string"==typeof c)c=h.DEt(c,e,n,l,i,r,a);else if(v(c)){for(var f=0;f<c.length;f++)c[f]="string"==typeof c[f]?h.DEt(c[f],e,n,l,i,r):c[f];c=Promise.all(c)}return Promise.resolve(c).then((function(t){return e.noEncode?t:En(t)}))},u=[],c=0,(o=t).replace(s,(function(t){var e=arguments[arguments.length-2];u.push(o.slice(c,e)),c=e+t.length;var n=a.apply(null,arguments);return u.push(n),""})),u.push(o.slice(c)),Promise.all(u).then((function(t){return t.join("")}))},e.DEt=function(t,e,n,i,r,o,s){var a=this;return this.expandTemplate(t,new ln(e.vars,e.iterations-1,!0),n,r,o).then((function(t){return i.expandStringAsync(s?t+s:t,r||a.getMacros(n),o)}))},e.CEt=function(t){return wt(this.xi.win).sha384Base64(t)},t}();function En(t){if(null==t)return"";if(v(t))return t.map(En).join(",");var e=An(String(t)),n=e.argList,i=e.name;return encodeURIComponent(i)+n}function An(t){if(!t)return{name:"",argList:""};var e=t.match(cn);return st(e,"Variable with invalid format found: "+t),{name:e[1]||e[0],argList:e[2]||""}}function Tn(t){return ut(t,"amp-analytics-variables")}function Sn(t){return ht(t,"amp-analytics-variables")}function bn(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return _t(t).then((function(t){return t?t.whenPolicyResolved(e):null}))}(t).then((function(t){return t?hn[t]:null}))}function yn(t){return"false"!==t&&""!==t&&"0"!==t&&"null"!==t&&"NaN"!==t&&"undefined"!==t}var wn="amp-analytics/config",Rn=function(){function t(t){this.Yp=t,this.t=null,this.LEt=Wt||{},this._yt={},this.QN={},this.kEt={},this.xEt=!1,this.cA=Tn(t)}var e=t.prototype;return e.loadConfig=function(){var t=this;return this.t=this.Yp.ownerDocument.defaultView,this.xEt=this.Yp.hasAttribute("sandbox"),Promise.all([this.UEt(),this.jEt()]).then(this.HEt.bind(this)).then(this.FEt.bind(this)).then((function(){return t.QN}))},e.VEt=function(t){var e,n=(this.t.location,$.cdn),i="bg"===t&&null!==(e=self.AMP_CONFIG)&&void 0!==e&&e.canary?".canary":"";return"".concat(n,"/rtv/").concat(K().rtvVersion,"/v0/analytics-vendors/").concat(t).concat(i,".json")},e.jEt=function(){var t=this,e=this.Yp.getAttribute("type");if(!e)return r();var n=this.VEt(e),i=this.Gi();return rt().fine(i,"Fetching vendor config",n),Ct(this.t).fetchJson(n,{ampCors:!1}).then((function(t){return t.json()})).then((function(n){t._yt=n||{},rt().fine(i,"Vendor config loaded for "+e,n)}),(function(t){nt().error(i,"Error loading vendor config: ",n,t)}))},e.UEt=function(){var t=this,e=this.Yp.getAttribute("config");if(!e||this.xEt)return r();le(e,this.Yp);var n=this.Gi();rt().fine(n,"Fetching remote config",e);var i={};return this.Yp.hasAttribute("data-credentials")&&(i.credentials=this.Yp.getAttribute("data-credentials")),Ot(this.Yp).expandUrlAsync(e,this.cA.getMacros(this.Yp)).then((function(n){return e=n,Ct(t.t).fetchJson(e,i)})).then((function(t){return t.json()})).then((function(i){t.kEt=i,rt().fine(n,"Remote config loaded",e)}),(function(t){nt().error(n,"Error loading remote config: ",e,t)}))},e.HEt=function(){var t=this.qEt().url,e={},n=this.L0();return this.GEt(n),Nn(n,e),Nn(this.kEt,e),!t||this.xEt?(this.QN=this.BEt(e),r()):this.WEt(e,t)},e.WEt=function(t,e){var n=this;le(e,this.Yp);var i=this.Gi();return rt().fine(i,"Rewriting config",e),this.$Et(t).then((function(){var r={method:"POST",body:t};return n.Yp.hasAttribute("data-credentials")&&(r.credentials=n.Yp.getAttribute("data-credentials")),Ot(n.Yp).expandUrlAsync(e).then((function(t){return Ct(n.t).fetchJson(t,r)})).then((function(t){return t.json()})).then((function(t){n.QN=n.BEt(t),rt().fine(i,"Configuration re-written",e)}),(function(t){nt().error(i,"Error rewriting configuration: ",e,t)}))}))},e.FEt=function(){if(this.QN.warningMessage){var t=this.Gi(),e=this.Yp.getAttribute("type"),n=this.Yp.getAttribute("config");nt().warn(t,"Warning from analytics vendor%s%s: %s",e?" "+e:"",n?" with remote config url "+n:"",String(this.QN.warningMessage)),delete this.QN.warningMessage}},e.$Et=function(t){var e=this,n=t.configRewriter,i=n&&n.varGroups,o=this.qEt().varGroups;if(!i&&!o)return r();if(i&&!o){var s=this.Gi();return nt().warn(s,"This analytics provider does not currently support varGroups"),r()}t.configRewriter=t.configRewriter||{};var a=t.configRewriter;a.vars={};var u=[],c=i||{};return R(c,o),Object.keys(c).forEach((function(t){var n=c[t];if(n.enabled){var i=e.shallowExpandObject(e.Yp,n).then((function(t){delete t.enabled,Object.assign(a.vars,t)}));u.push(i)}})),Promise.all(u).then((function(){if(!Object.keys(a.vars).length)return delete t.configRewriter;i&&delete a.varGroups}))},e.BEt=function(t){var e={vars:{requestCount:0}};return Nn(In(this.LEt),e),Nn(In(this._yt),e,!0),Nn(In(t),e,!0),e},e.qEt=function(){return this._yt.configRewriter||{}},e.L0=function(){if(this.Yp.CONFIG)return this.Yp.CONFIG;var t={},e=this.Gi();try{var n=this.Yp.children;1==n.length?t=function(t){var e,n,i,r=(e=t,I(/^[\w-]+$/.test("script")),n=e,i="> ".concat("script"),P(n)?n.querySelectorAll(C(i,":scope")):x(n,i)),o=r.length;if(1!==o)throw new Error("Found ".concat(o," <script> children. Expected 1."));var s=r[0];if(!function(t){var e;return"SCRIPT"==t.tagName&&"APPLICATION/JSON"==(null===(e=t.getAttribute("type"))||void 0===e?void 0:e.toUpperCase())}(s))throw new Error('<script> child must have type="application/json"');try{var a;return O(null!==(a=s.textContent)&&void 0!==a?a:"")}catch(t){throw new Error("Failed to parse <script> contents. Is it valid JSON?")}}(this.Yp):n.length>1&&nt().error(e,"The tag should contain only one <script> child.")}catch(t){nt().error(e,t.message)}return t},e.GEt=function(t){if(this.Yp.getAttribute("type")&&(t.transport||this.kEt.transport)){var e=this.Gi();nt().error(e,"Inline or remote config should not overwrite vendor transport settings")}t.transport&&t.transport.iframe&&(nt().error(wn,"Inline configs are not allowed to specify transport iframe"),t.transport.iframe=void 0),this.kEt.transport&&this.kEt.transport.iframe&&(nt().error(wn,"Remote configs are not allowed to specify transport iframe"),this.kEt.transport.iframe=void 0)},e.Gi=function(){return"AmpAnalytics "+(this.Yp.getAttribute("id")||"<unknown id>")},e.shallowExpandObject=function(t,e){var n={},i=[],r=[],o=Ot(t),s=Tn(t).getMacros(t);return Object.keys(e).forEach((function(t){i.push(t);var n=o.expandStringAsync(e[t],s);r.push(n)})),Promise.all(r).then((function(t){return i.forEach((function(e,i){return n[e]=t[i]})),n}))},t}();function Nn(t,e,n){for(var i in null==e&&(e={}),st(n||!t||!t.optout||"_gaUserPrefs.ioo"==t.optout||"__gaOptOutExtension"==t.optoutElementId,"optout property is only available to vendor config."),t)st(n||"iframePing"!=i,"iframePing config is only available to vendor config."),w(t,i)&&(v(t[i])?(v(e[i])||(e[i]=[]),e[i]=Nn(t[i],e[i],n)):b(t[i])?(b(e[i])||(e[i]={}),e[i]=Nn(t[i],e[i],n)):e[i]=t[i]);return e}function In(t){if(!t.requests)return t;for(var e in t.requests)w(t.requests,e)&&(t.requests[e]=b(n=t.requests[e])?n:{baseUrl:n});var n;return function(t){if(w(t,"requests")&&w(t,"requestOrigin")){var e=t.requestOrigin;for(var n in t.requests)w(t.requests[n],"origin")||(t.requests[n].origin=e)}return t}(t)}var On=31536e6,_n=function(){function t(){this.Di=[]}var e,n=t.prototype;return n.peek=function(){var t=this.length;return t?this.Di[t-1].item:null},n.enqueue=function(t,e){if(isNaN(e))throw new Error("Priority must not be NaN.");var n=this.ji(e);this.Di.splice(n,0,{item:t,priority:e})},n.ji=function(t){for(var e=-1,n=0,i=this.length;n<=i&&(e=Math.floor((n+i)/2))!==this.length;)if(this.Di[e].priority<t)n=e+1;else{if(!(e>0&&this.Di[e-1].priority>=t))break;i=e-1}return e},n.forEach=function(t){for(var e=this.length;e--;)t(this.Di[e].item)},n.dequeue=function(){var t=this.Di.pop();return t?t.item:null},(e=[{key:"length",get:function(){return this.Di.length}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),Mn=!1,Pn="CHUNK",Cn=/nochunking=1/.test(self.location.hash),xn=r();function Dn(t,e,n){Cn?xn.then(e):function(t){var e,n;return e=Vn,gt(mt(n=vt(t)),n,"chunk",e),ut(t,"chunk")}(t).run(e,n)}var Ln,kn="not_run",Un=function(){function t(t){this.state=kn,this.Ui=t}var e=t.prototype;return e.Li=function(t){if("run"!=this.state){this.state="run";try{this.Ui(t)}catch(t){throw this.Hi(t),t}}},e.Gi=function(){return this.Ui.displayName||this.Ui.name},e.Hi=function(t){},e.Vi=function(){return!1},e.Fi=function(){return!1},t}(),Bn=function(t){u(n,t);var e=d(n);function n(t,n,i){var r;return(r=e.call(this,t)).Bi=i,r}var i=n.prototype;return i.Hi=function(t){var e;ot((e=self.document).defaultView),Mn||(Mn=!0,function(t){!function(t,e){for(var n in e)Ne(t,n,e[n])}(t.body,{opacity:1,visibility:"visible",animation:"none"})}(e))},i.Vi=function(){return this.qi()},i.Fi=function(){return this.Bi.$i},i.qi=function(){return this.Bi.ampdoc.isVisible()},n}(Un),Vn=function(){function t(t){var e,n=this;this.ampdoc=t,this.t=t.win,this.Wi=new _n,this.Ki=this.Yi.bind(this),this.Ji=0,this.Xi=!(!this.t.navigator.scheduling||!this.t.navigator.scheduling.isInputPending),this.Qi=!1,this.zi=this.t.document.documentElement.hasAttribute("i-amphtml-no-boilerplate"),this.t.addEventListener("message",(function(t){"amp-macro-task"==Lt(t)&&n.Yi(null)})),this.$i=!1,(e=t,ht(e,"viewer")).then((function(){n.$i=!0})),t.onVisibilityChanged((function(){t.isVisible()&&n.Zi()}))}var e=t.prototype;return e.run=function(t,e){var n=new Un(t);this.on(n,e)},e.runForStartup=function(t){var e=new Bn(t,this.t,this);this.on(e,Number.POSITIVE_INFINITY)},e.on=function(t,e){this.Wi.enqueue(t,e),this.Zi()},e.Mn=function(t){for(var e=this.Wi.peek();e&&e.state!==kn;)this.Wi.dequeue(),e=this.Wi.peek();return e&&t&&this.Wi.dequeue(),e},e.Yi=function(t){var e,n=this,i=this.Mn(!0);if(!i)return this.Qi=!1,this.Ji=0,!1;try{e=Date.now(),i.Li(t)}finally{xn.then().then().then().then().then().then().then().then().then((function(){n.Qi=!1,n.Ji+=Date.now()-e,rt().fine(Pn,i.Gi(),"Chunk duration",Date.now()-e,n.Ji),n.Zi()}))}return!0},e.kn=function(t){var e=this;if(this.zi&&(this.Xi?this.t.navigator.scheduling.isInputPending():this.Ji>5))return this.Ji=0,void this._n();xn.then((function(){e.Ki(t)}))},e.Zi=function(){if(!this.Qi){var t=this.Mn();if(t)return t.Vi()?(this.Qi=!0,void this.kn(null)):void(t.Fi()&&this.t.requestIdleCallback?(e=this.t,n=2e3,i=this.Ki,r=Date.now(),e.requestIdleCallback((function t(o){if(o.timeRemaining()<15){var s=n-(Date.now()-r);s<=0||o.didTimeout?(rt().fine(Pn,"Timed out",n,o.didTimeout),i(o)):(rt().fine(Pn,"Rescheduling with",s,o.timeRemaining()),e.requestIdleCallback(t,{timeout:s}))}else rt().fine(Pn,"Running idle callback with ",15),i(o)}),{timeout:n})):this._n())}var e,n,i,r},e._n=function(){this.t.postMessage("amp-macro-task","*")},t}(),qn="amp-analytics/cookie-writer",Fn={referrerDomains:!0,enabled:!0,cookiePath:!0,cookieMaxAge:!0,cookieSecure:!0,cookieDomain:!0,sameSite:!0,SameSite:!0,secure:!0},Hn=function(){function t(t,e,n){this.t=t,this.Yp=e,this.ZC=Ot(e),this.YEt=null,this.QN=n,this.ph=Tn(e).getMacros(e)}var e=t.prototype;return e.write=function(){var t=this;return this.YEt||(this.YEt=new o,Dn(this.Yp,(function(){t.YEt.resolve(t.ze())}),10)),this.YEt.promise},e.ze=function(){if(!ke(this.t,this.Yp))return r();if(!w(this.QN,"cookies"))return r();if(!b(this.QN.cookies))return nt().error(qn,"cookies config must be an object"),r();var t=this.QN.cookies;if(!1===t.enabled)return r();for(var e=this.t2(t),n=Object.keys(t),i=[],o=0;o<n.length;o++){var s=n[o],a=t[s],u=this.zEt(a.sameSite||a.SameSite||t.sameSite||t.SameSite);this.n2(s,a)&&i.push(this.i2(s,a.value,e,u))}return Promise.all(i)},e.t2=function(t){if(!w(t,"cookieMaxAge"))return On;var e=Number(t.cookieMaxAge);return e||0===e?(e<=0&&nt().warn(qn,"cookieMaxAge %s less than or equal to 0, cookie will immediately expire",t.cookieMaxAge),1e3*e):(nt().error(qn,"invalid cookieMaxAge %s, falling back to default value (1 year)",t.cookieMaxAge),On)},e.n2=function(t,e){return!(Fn[t]||(b(e)?!w(e,"value")&&(nt().error(qn,"value is required in the cookieValue object"),1):(nt().error(qn,"cookieValue must be configured in an object"),1)))},e.i2=function(t,e,n,i){var r=this;return this.ZC.expandStringAsync(e,this.ph).then((function(e){if(e){var o=Date.now()+n,s=i===ge;!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Se(t,r,e);var o=void 0;r.domain?o=r.domain:r.highestAvailableDomain&&(o=Ae(t)),Te(t,e,n,i,o,r.sameSite,r.secure)}(r.t,t,e,o,{highestAvailableDomain:!0,sameSite:i,secure:s})}})).catch((function(t){nt().error(qn,"Error expanding cookie string",t)}))},e.zEt=function(t){switch(t){case"Strict":return"Strict";case"Lax":return"Lax";case"None":return ge;default:return}},t}(),jn=function(){function t(){this.Tt=null}var e=t.prototype;return e.add=function(t){var e=this;return this.Tt||(this.Tt=[]),this.Tt.push(t),function(){e.remove(t)}},e.remove=function(t){var e,n,i;this.Tt&&(n=t,-1!=(i=(e=this.Tt).indexOf(n))&&e.splice(i,1))},e.removeAll=function(){this.Tt&&(this.Tt.length=0)},e.fire=function(t){if(this.Tt)for(var e,i=n(this.Tt.slice(),!0);!(e=i()).done;)(0,e.value)(t)},e.getHandlerCount=function(){var t,e;return null!==(t=null===(e=this.Tt)||void 0===e?void 0:e.length)&&void 0!==t?t:0},t}(),Gn="video-session-visible",Qn="video-seconds-played",Yn=["video-ended","video-pause","video-play","video-session","video-session-visible","video-seconds-played","video-hosted-custom","video-percentage-played","video-ad-start","video-ad-end"],Wn=/^vars(.+)/,zn=function(){},Kn="amp-analytics/events",Zn="click",Xn="browser-event",$n="custom",Jn="hidden",ti="ini-load",ei="render-start",ni="scroll",ii="story",ri="timer",oi="video",si="visible",ai=["ampdoc","embed"],ui=Object.freeze((J(Ln={},Zn,{name:Zn,allowedFor:ai.concat(["timer"]),klass:function(t){return new Ei(t)}}),J(Ln,Xn,{name:Xn,allowedFor:ai.concat(["timer"]),klass:function(t){return new mi(t)}}),J(Ln,$n,{name:$n,allowedFor:ai.concat(["timer"]),klass:function(t){return new pi(t)}}),J(Ln,Jn,{name:si,allowedFor:ai.concat(["timer"]),klass:function(t){return new Ri(t)}}),J(Ln,ti,{name:ti,allowedFor:ai.concat(["timer","visible"]),klass:function(t){return new Si(t)}}),J(Ln,ei,{name:ei,allowedFor:ai.concat(["timer","visible"]),klass:function(t){return new Ti(t)}}),J(Ln,ni,{name:ni,allowedFor:ai.concat(["timer"]),klass:function(t){return new Ai(t)}}),J(Ln,ii,{name:ii,allowedFor:ai,klass:function(t){return new gi(t)}}),J(Ln,ri,{name:ri,allowedFor:ai,klass:function(t){return new yi(t)}}),J(Ln,oi,{name:oi,allowedFor:ai.concat(["timer"]),klass:function(t){return new wi(t)}}),J(Ln,si,{name:si,allowedFor:ai.concat(["timer"]),klass:function(t){return new Ri(t)}}),Ln));function ci(t){st(!v(t)||new Set(t).size===t.length,"Cannot have duplicate selectors in selectors list: %s",t)}function hi(t){return t.startsWith("video")?oi:"blur"===(e=t)||"change"===e?Xn:t.startsWith("story")?ii:function(t){return"click"===(e=t)||"browser-event"===e||"custom"===e||"hidden"===e||"ini-load"===e||"render-start"===e||"scroll"===e||"story"===e||"timer"===e||"video"===e||"visible"===e;var e}(t)?w(ui,t)?ui[t].name:t:$n;var e}function li(t){var e={};return Object.keys(ui).forEach((function(n){w(ui,n)&&-1!=ui[n].allowedFor.indexOf(t)&&(e[n]=ui[n].klass)})),e}function fi(t,e){var n=B(t,void 0,Wn);return R(n,e,0),n}var di=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.target=t,this.type=e,this.vars=i?fi(t,n):n},vi=function(){function t(t){this.root=t}var e=t.prototype;return e.dispose=function(){},e.add=function(t,e,n,i){},t}(),mi=function(t){u(i,t);var e=d(i);function i(t){var n;return(n=e.call(this,t)).KEt=new jn,n.JEt={},n.XEt=n.KEt.fire.bind(n.KEt),n.ZEt=function(t,e,n){var i=0,r=0,o=null;function s(){i=0;var n,a=500-(t.Date.now()-r);a>0?i=t.setTimeout(s,a):(n=o,o=null,e.apply(null,n))}return function(){r=t.Date.now();for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];o=n,i||(i=t.setTimeout(s,500))}}(n.root.ampdoc.win,n.XEt),n}var r=i.prototype;return r.dispose=function(){var t=this,e=this.root.getRoot();Object.keys(this.JEt).forEach((function(n){e.removeEventListener(n,t.ZEt)})),this.XEt=null,this.KEt=null},r.add=function(t,e,i,r){st(!!function(t){var e,i,r,o,s;if(t[Yt])return t[Yt];t[Yt]=y();var a=t[Yt];I(a);var u=Qt(Qt({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(i=t.AMP_EXP)&&void 0!==i?i:O((null===(r=t.__AMP_EXP)||void 0===r?void 0:r.textContent)||"{}"));for(var c in u){var h=u[c];"number"==typeof h&&h>=0&&h<=1&&(a[c]=Math.random()<h)}var l=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-doc-opt-in"];if(v(l)&&l.length){var f=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(f)for(var d,m,p=n((null===(d=f.getAttribute("content"))||void 0===d?void 0:d.split(","))||[],!0);!(m=p()).done;){var g=m.value;l.includes(g)&&(a[g]=!0)}}Object.assign(a,function(t){var e,i="";try{var r;"localStorage"in t&&(i=null!==(r=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==r?r:"")}catch(t){rt().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var o,s=(null===(e=i)||void 0===e?void 0:e.split(/\s*,\s*/g))||[],a=y(),u=n(s,!0);!(o=u()).done;){var c=o.value;c&&("-"==c[0]?a[c.substr(1)]=!1:a[c]=!0)}return a}(t));var E=null===(s=t.AMP_CONFIG)||void 0===s?void 0:s["allow-url-opt-in"];if(v(E)&&E.length)for(var A,T=Y(t.location.originalHash||t.location.hash),S=n(E,!0);!(A=S()).done;){var b=A.value,w=T["e-".concat(b)];"1"==w&&(a[b]=!0),"0"==w&&(a[b]=!1)}return a}(this.root.ampdoc.win)["analytics-browser-events"],'expected global "analytics-browser-events" experiment to be enabled');var o=i.on,s=i.selectionMethod,a=void 0===s?null:s,u=i.selector;st(null==u?void 0:u.length,"Missing required selector on browser event trigger"),ci(u);var c=this.root.getElements(t,u,a,!1);return this.JEt[o]||(this.root.getRootElement().addEventListener(o,this.ZEt,!0),this.JEt[o]=!0),this.KEt.add((function(t){t.type===o&&c.then((function(e){e.forEach((function(e){var n=t.target;e.contains(n)&&r(new di(e,o,{}))}))}))}))},i}(vi),pi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).KEt={},n.QEt={},n.tTt={},setTimeout((function(){n.QEt=void 0}),1e4),n}var i=n.prototype;return i.dispose=function(){for(var t in this.QEt=void 0,this.tTt=void 0,this.KEt)this.KEt[t].removeAll()},i.add=function(t,e,n,i){var r=this,o=n.selector;o||(o=":root");var s=n.selectionMethod||null,a=this.root.getElement(t,o,s),u=e.startsWith("sandbox-"),c=u?this.tTt&&this.tTt[e]:this.QEt&&this.QEt[e];if(c){var h=c.length;a.then((function(t){setTimeout((function(){for(var n=0;n<h;n++){var o=c[n];t.contains(o.target)&&i(o)}u&&(r.tTt[e]=void 0)}),1)}))}var l=this.KEt[e];return l||(l=new jn,this.KEt[e]=l),this.KEt[e].add((function(t){a.then((function(e){e.contains(t.target)&&i(t)}))}))},i.trigger=function(t){var e=t.type,n=e.startsWith("sandbox-"),i=this.KEt[e];i&&(i.fire(t),n)||(n?(this.tTt[e]=this.tTt[e]||[],this.tTt[e].push(t)):this.QEt&&(this.QEt[e]=this.QEt[e]||[],this.QEt[e].push(t)))},n}(vi),gi=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.add=function(t,e,n,i){var r=this,o=this.root.getRootElement(),s=this.QEt&&this.QEt[e];if(s)for(var a=s.length,u=0;u<a;u++){var c=s[u];this.nTt(c,o,n,i)}var h=this.KEt[e];return h||(h=new jn,this.KEt[e]=h),this.KEt[e].add((function(t){r.nTt(t,o,n,i)}))},i.nTt=function(t,e,n,i){var r=t.type,o=t.vars,s=n.storySpec||{},a=void 0===s.repeat||s.repeat,u=o.eventDetails,c=n.tagName;c&&u.tagName&&c.toLowerCase()!==u.tagName||!1===a&&u.repeated||i(new di(e,r,o))},i.trigger=function(t){var e=t.type,n=this.KEt[e];n&&n.fire(t),this.QEt&&(this.QEt[e]=this.QEt[e]||[],this.QEt[e].push(t))},n}(pi),Ei=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).iTt=new jn,n.rTt=n.iTt.fire.bind(n.iTt),n.root.getRoot().addEventListener("click",n.rTt),n}var i=n.prototype;return i.dispose=function(){this.root.getRoot().removeEventListener("click",this.rTt),this.iTt.removeAll()},i.add=function(t,e,n,i){var r=st(n.selector,"Missing required selector on click trigger"),o=n.selectionMethod||null;return this.iTt.add(this.root.createSelectiveListener(this.io.bind(this,i),t.parentElement||t,r,o))},i.io=function(t,e,n){t(new di(e,"click"))},n}(vi),Ai=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).Br=t,n.eTt=null,n}var i=n.prototype;return i.dispose=function(){null!==this.eTt&&(this.Br.getScrollManager().removeScrollHandler(this.eTt),this.eTt=null)},i.add=function(t,e,n,i){if(!n.scrollSpec)return nt().error(Kn,"Missing scrollSpec on scroll trigger."),zn;if(!Array.isArray(n.scrollSpec.verticalBoundaries)&&!Array.isArray(n.scrollSpec.horizontalBoundaries))return nt().error(Kn,"Boundaries are required for the scroll trigger to work."),zn;var r=this.uTt(n.scrollSpec.verticalBoundaries),o=this.uTt(n.scrollSpec.horizontalBoundaries),s=!!n.scrollSpec.useInitialPageSize;return this.eTt=this.Kp.bind(this,o,r,s,i),this.Br.getScrollManager().addScrollHandler(this.eTt)},i.Kp=function(t,e,n,i,r){var o=n?r.initialSize:r,s=o.scrollHeight,a=o.scrollWidth;this.sTt(e,100*(r.top+r.height)/s,"verticalScrollBoundary",i),this.sTt(t,100*(r.left+r.width)/a,"horizontalScrollBoundary",i)},i.uTt=function(t){var e={};if(!t||!Array.isArray(t))return e;for(var n=0;n<t.length;n++){var i=t[n];if("number"!=typeof i||!isFinite(i))return nt().error(Kn,"Scroll trigger boundaries must be finite."),e;e[i=Math.min(5*Math.round(i/5),100)]=!1}return e},i.sTt=function(t,e,n,i){if(e)for(var r in t)if(w(t,r)){var o=parseInt(r,10);if(!(o>e||t[o])){t[o]=!0;var s={};s[n]=r,i(new di(this.Br.getRootElement(),ni,s,!1))}}},n}(vi),Ti=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r,o,s=this,a=n.selector||":root";if(":root"==a||":host"==a)r=this.root.getRootElement(),o=this.getRootSignal(e);else{var u=n.selectionMethod;o=this.root.getAmpElement(t.parentElement||t,a,u).then((function(t){return r=t,s.getElementSignal(e,r)}))}return o.then((function(){i(new di(r,e))})),zn},i.getRootSignal=function(t){return this.root.signals().whenSignal(t)},i.getElementSignal=function(t,e){return"function"!=typeof e.signals?r():e.signals().whenSignal(t)},n}(vi),Si=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r,o,s=this,a=n.selector||":root";if(":root"==a||":host"==a)r=this.root.getRootElement(),o=this.getRootSignal();else{var u=n.selectionMethod;o=this.root.getAmpElement(t.parentElement||t,a,u).then((function(t){return r=t,s.getElementSignal("ini-load",r)}))}return o.then((function(){i(new di(r,e))})),zn},i.getRootSignal=function(){return this.root.whenIniLoaded()},i.getElementSignal=function(t,e){if("function"!=typeof e.signals)return r();var n=e.signals();return Promise.race([n.whenSignal("ini-load"),n.whenSignal("load-end")])},n}(vi),bi=function(){function t(t,e,n){this.oTt=void 0,st("interval"in t,"Timer interval specification required"),this.aTt=Number(t.interval)||0,st(this.aTt>=.5,"Bad timer interval specification"),this.hTt="maxTimerLength"in t?Number(t.maxTimerLength):7200,st(this.hTt>0,"Bad maxTimerLength specification"),this.cTt="maxTimerLength"in t,this.fTt=!("immediate"in t)||Boolean(t.immediate),this.lTt=null,this.vTt=null,this.dTt=null,this.mTt=e||null,this.pTt=n||null,this.fh=void 0,this.bTt=void 0}var e=t.prototype;return e.init=function(t){this.mTt?this.ETt():t()},e.dispose=function(){this.gTt(),this.TTt()},e.ETt=function(){this.mTt&&(this.vTt=this.mTt())},e.TTt=function(){this.vTt&&(this.vTt(),this.vTt=null)},e.yTt=function(){if(this.pTt)try{this.dTt=this.pTt()}catch(t){throw this.dispose(),t}},e.gTt=function(){this.dTt&&(this.dTt(),this.dTt=null)},e.isRunning=function(){return!!this.oTt},e.startIntervalInWindow=function(t,e,n){this.isRunning()||(this.fh=Date.now(),this.bTt=void 0,this.lTt=e,this.oTt=t.setInterval((function(){e()}),1e3*this.aTt),(!this.pTt||this.pTt&&this.cTt)&&t.setTimeout((function(){n()}),1e3*this.hTt),this.TTt(),this.fTt&&e(),this.yTt())},e.wTt=function(t){this.isRunning()&&(this.lTt(),this.lTt=null,t.clearInterval(this.oTt),this.oTt=void 0,this.bTt=void 0,this.gTt(),this.ETt())},e.STt=function(){return this.fh?Date.now()-(this.bTt||this.fh):0},e.getTimerVars=function(){var t=0;return this.isRunning()&&(t=this.STt(),this.bTt=Date.now()),{timerDuration:t,timerStart:this.fh||0}},t}(),yi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).ATt={},n.OTt=1,n}var i=n.prototype;return i.getTrackedTimerKeys=function(){return Object.keys(this.ATt)},i.dispose=function(){var t=this;this.getTrackedTimerKeys().forEach((function(e){t.NTt(e)}))},i.add=function(t,e,n,i){var r=this,o=n.timerSpec;st(o&&"object"==h(o),"Bad timer specification");var s="startSpec"in o?o.startSpec:null;st(!s||"object"==h(s),"Bad timer start specification");var a="stopSpec"in o?o.stopSpec:null;st(!s&&!a||"object"==h(a),"Bad timer stop specification");var u,c,l=this.ITt();if(s){var f=this._Tt(s);st(f,"Cannot track timer start"),u=f.add.bind(f,t,s.on,s,this.RTt.bind(this,l,e,i))}if(a){var d=this._Tt(a);st(d,"Cannot track timer stop"),c=d.add.bind(d,t,a.on,a,this.RTt.bind(this,l,e,i))}var v=new bi(o,u,c);return this.ATt[l]=v,v.init(this.PTt.bind(this,l,e,i)),function(){r.NTt(l)}},i.ITt=function(){return++this.OTt},i._Tt=function(t){var e=hi(nt().assertString(t.on));return this.root.getTrackerForAllowlist(e,li("timer"))},i.RTt=function(t,e,n){var i=this.ATt[t];i&&(i.isRunning()?this.wTt(t):this.PTt(t,e,n))},i.PTt=function(t,e,n){var i=this;this.ATt[t].startIntervalInWindow(this.root.ampdoc.win,(function(){n(i.CTt(t,e))}),this.NTt.bind(this,t))},i.wTt=function(t){this.ATt[t].wTt(this.root.ampdoc.win)},i.CTt=function(t,e){return new di(this.root.getRootElement(),e,this.ATt[t].getTimerVars(),!1)},i.NTt=function(t){this.ATt[t]&&(this.wTt(t),this.ATt[t].dispose(),delete this.ATt[t])},n}(vi),wi=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).MTt=new jn,n.XEt=n.MTt.fire.bind(n.MTt),Yn.forEach((function(t){n.root.getRoot().addEventListener(t,n.XEt)})),n}var i=n.prototype;return i.dispose=function(){var t=this,e=this.root.getRoot();Yn.forEach((function(n){e.removeEventListener(n,t.XEt)})),this.XEt=null,this.MTt=null},i.add=function(t,e,n,i){var r=n.videoSpec||{},o=st(n.selector||r.selector,"Missing required selector on video trigger");st(o.length,"Missing required selector on video trigger"),ci(o);var s=n.selectionMethod||null,a=this.root.getElements(t,o,s,!1),u=r["end-session-when-invisible"],c=r["exclude-autoplay"],h=r.interval,l=r.percentages,f=n.on,d=0,v=0;return this.MTt.add((function(t){var e=t.type,n=Lt(t),r=function(t,e){return t==Gn?"video-session":"video-hosted-custom"==t?e["__amp:eventType"]:t}(e,n);if(r===f)if(r!==Qn||h){if(r!==Qn||++d%h==0){if("video-percentage-played"===r){if(!l)return void nt().error(Kn,"video-percentage-played requires percentages spec.");for(var o=0;o<l.length;o++){var s=l[o];if(s<=0||s%5!=0)return void nt().error(Kn,"Percentages must be set in increments of %s with non-zero values",5)}var m=n.normalizedPercentage,p=parseInt(m,10);if(ot(N(p)),ot(p%5==0),v==p&&l.length>1)return;if(l.indexOf(p)<0)return;v=p}if((e!==Gn||u)&&(!c||"playing_auto"!==n.state)){var g=t.target;a.then((function(t){t.forEach((function(t){if(t.contains(g)){var e=function(t){if(!t)return{};var e=Qt({},t);return delete e["__amp:eventType"],e}(n);i(new di(t,r,e))}}))}))}}}else nt().error(Kn,"video-seconds-played requires interval spec with non-zero value")}))},n}(vi),Ri=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).DTt={},n}var i=n.prototype;return i.dispose=function(){},i.add=function(t,e,n,i){var r=this,o=n.visibilitySpec||{},s=n.selector||o.selector,a=o.waitFor,u=o.reportWhen,c=null;u&&st(!o.repeat,"reportWhen and repeat are mutually exclusive."),e===Jn&&(u&&nt().error(Kn,'ReportWhen should not be defined when eventType is "hidden"'),u="documentHidden");var h=this.root.getVisibilityManager();if("documentHidden"==u?c=this.LTt.bind(this):"documentExit"==u?c=this.kTt.bind(this):st(!u,'reportWhen value "%s" not supported.',u),!s||":root"==s||":host"==s){var l=a||(s?"ini-load":"none");return h.listenRoot(o,this.getReadyPromise(l),c,this.xTt.bind(this,e,i,this.root.getRootElement()))}var f=n.selectionMethod||o.selectionMethod;ci(s);var d=this.root.getElements(t.parentElement||t,s,f).then((function(t){for(var n=[],s=0;s<t.length;s++)n.push(h.listenElement(t[s],o,r.getReadyPromise(a,t[s]),c,r.xTt.bind(r,e,i,t[s])));return n}));return function(){d.then((function(t){for(var e=0;e<t.length;e++)t[e]()}))}},i.LTt=function(){var t=this.root.ampdoc;return t.isVisible()?new Promise((function(e){t.onVisibilityChanged((function(){t.isVisible()||e()}))})):r()},i.kTt=function(){var t,e,n=new o,i=this.root.ampdoc.win;return this.UTt()||i.addEventListener("unload",t=function(){i.removeEventListener("unload",t),n.resolve()}),i.addEventListener("pagehide",e=function(){i.removeEventListener("pagehide",e),n.resolve()}),n.promise},i.UTt=function(){return"onpagehide"in this.root.ampdoc.win},i.getReadyPromise=function(t,e){var n;if(e&&((n=e.tagName).startsWith("AMP-")&&"AMP-STICKY-AD-TOP-PADDING"!=n&&"AMP-BODY"!=n?t=t||"ini-load":st(!t||"none"==t,"waitFor for non-AMP elements must be none or null. Found %s",t)),!t||"none"==t)return null;var i=li("visible");st(void 0!==i[t],"waitFor value %s not supported",t);var r=this.DTt[t]||this.root.getTrackerForAllowlist(t,i);return r?(this.DTt[t]=r,e?r.getElementSignal(t,e):r.getRootSignal(t)):null},i.xTt=function(t,e,n,i){var r=B(n,void 0,Wn);for(var o in r)i[o]=r[o];e(new di(n,t,i,!1))},n}(vi),Ni=function(){function t(t,e){this.Br=t,this.jTt=e,this.rn=[],this.HTt=0,this.t=M(e)}var e=t.prototype;return e.dispose=function(){this.rn.forEach((function(t){t()}))},e.addTrigger=function(t,e){var n,i=this,r=t.on,s=hi(r),a=li(this.Br.getType()),u=this.Br.getTrackerForAllowlist(s,a);st(!!u,'Trigger type "%s" is not allowed in the %s',r,this.Br.getType());var c=new o,h=function(){n=u.add(i.jTt,r,t,e),i.rn.push(n),c.resolve()};if(this.HTt<1||"inabox"==K(this.t).runtime)h();else{var l=this.HTt<3?20:10;Dn(this.jTt,h,l)}return this.HTt++,c.promise},t}(),Ii="inside";function Oi(t,e,n,i){return{left:t,top:e,width:n,height:i,bottom:e+i,right:t+n,x:t,y:e}}function _i(t,e,n){var i,r,o,s=(i={top:n,bottom:n+e.getHeight(),left:0,right:e.getWidth()},Oi(Number(i.left),Number(i.top),Number(i.width),Number(i.height)));return o=s,(r=t).top<=o.bottom&&o.top<=r.bottom&&r.left<=o.right&&o.left<=r.right?Ii:function(t,e){return t.top<e.top?"top":t.bottom>e.bottom?"bottom":Ii}(t,s)}var Mi=function(){function t(t){this.Ss=Pt(t.ampdoc),this.Pu=ut(t.ampdoc,"mutator"),this.FTt=null,this.Da=new jn,this.Br=t.getRootElement(),this.VTt=null}var e=t.prototype;return e.dispose=function(){this.Da.removeAll(),this.qTt()},e.removeScrollHandler=function(t){this.Da.remove(t),this.Da.getHandlerCount()<=0&&this.qTt()},e.addScrollHandler=function(t){var e=this,n=this.Ss.getSize();return this.GTt().then((function(i){var r=i.height,o=i.left,s=i.top,a=i.width,u={top:e.Ss.getScrollTop()-s,left:e.Ss.getScrollLeft()-o,width:n.width,height:n.height,scrollHeight:r,scrollWidth:a,initialSize:{scrollHeight:r,scrollWidth:a}};t(u)})),0===this.Da.getHandlerCount()&&this.BTt(),this.Da.add(t)},e.LF=function(t){var e=this;return Promise.all([this.GTt(),this.WTt()]).then((function(n){var i=n[0],r=i.height,o=i.width,s=n[1],a=s.height,u=s.left,c=s.top,h=s.width,l={top:t.top-c,left:t.left-u,width:t.width,height:t.height,scrollWidth:h,scrollHeight:a,initialSize:{scrollHeight:r,scrollWidth:o}};e.Da.fire(l)}))},e.qTt=function(){this.FTt&&(this.FTt(),this.FTt=null)},e.BTt=function(){this.FTt=this.Ss.onChanged(this.LF.bind(this))},e.GTt=function(){return ot(this.VTt||this.WTt())},e.WTt=function(){var t=this,e=this.Pu.measureElement((function(){return t.Ss.getLayoutRect(t.Br)}));return this.VTt=this.VTt||e,e},t}();function Pi(t){var e=function(t){var e=[];if(!t)return e;var n,i=t;e.push(i);for(var r=0;r<50;r++)if((n=i.parentNode||i.parentElement)&&1==n.nodeType)i=n,e.push(i);else{if(!n||9!=n.nodeType)break;if(!(n=i.ownerDocument.defaultView.frameElement)||1!=n.nodeType)break;i=n,e.push(i)}return e}(t.parentElement);e.push(t);for(var n,i=1,r=0;r<e.length;r++)if((n=Ci(e[r]))<i&&(i=n),0===i)return i;return i}function Ci(t){var e=window;if(!t)return 1;var n=function(t,e){return t.getComputedStyle(e)||we}(e,t),i=n.opacity;if("hidden"===n.visibility)return 0;var r=""===i?1:parseFloat(i);return isNaN(r)?1:r}var xi=function(){function t(t,e){var n=this;this.$Tt=e,this.YTt={visiblePercentageMin:Number(t.visiblePercentageMin)/100||0,visiblePercentageMax:Number(t.visiblePercentageMax)/100||1,totalTimeMin:Number(t.totalTimeMin)||0,totalTimeMax:Number(t.totalTimeMax)||1/0,continuousTimeMin:Number(t.continuousTimeMin)||0,continuousTimeMax:Number(t.continuousTimeMax)||1/0},"0"===String(t.visiblePercentageMax).trim()&&(this.YTt.visiblePercentageMax=0),this.zTt=void 0!==t.reportWhen,this.KTt=!0===t.repeat,this.JTt=new jn;var i=new o;this.XTt=i.promise,this.ZTt=i.resolve,this.XTt.then((function(){n.JTt.fire()})),this.QTt=[],this.tSt=Date.now(),this.Kt=!0,this.nSt=!0,this.iSt=null,this.rSt=null,this.eSt=!1,this.uSt=!1,this.sSt=0,this.oSt=0,this.aSt=0,this.hSt=0,this.cSt=0,this.Co=0,this.Lt=0,this.fSt=0,this.lSt=0,this.vSt=0,this.dSt=0,this.mSt=0,this.pSt=!1,this.bSt=!1,this.ESt=null}var e=t.prototype;return e.ur=function(){var t=this;ot(!this.ZTt);var e=new o;this.XTt=e.promise,this.ZTt=e.resolve,this.XTt.then((function(){t.JTt.fire()})),this.ESt=null,this.uSt=!1,this.eSt=!1,this.sSt=0,this.oSt=0,this.aSt=0,this.Co=0,this.hSt=0,this.cSt=0,this.Lt=0,this.lSt=0,this.vSt=0,this.dSt=0,this.bSt=!1},e.maybeDispose=function(){this.KTt||this.dispose()},e.dispose=function(){this.rSt&&(clearTimeout(this.rSt),this.rSt=null),this.ESt&&(clearTimeout(this.ESt),this.ESt=null),this.QTt.forEach((function(t){t()})),this.QTt.length=0,this.ZTt=null,this.JTt&&(this.JTt.removeAll(),this.JTt=null)},e.unsubscribe=function(t){this.QTt.push(t)},e.onTriggerEvent=function(t){this.JTt&&this.JTt.add(t),this.XTt&&!this.ZTt&&t()},e.setReady=function(t){this.Kt=t,this.update()},e.setReportReady=function(t){this.nSt=!1,this.iSt=t},e.gSt=function(){return this.Kt?this.$Tt():0},e.update=function(){this.al(this.gSt())},e.getState=function(t){return{firstSeenTime:Di(this.hSt,t),lastSeenTime:Di(this.cSt,t),lastVisibleTime:Di(this.Lt,t),firstVisibleTime:Di(this.Co,t),maxContinuousVisibleTime:this.oSt,totalVisibleTime:this.aSt,loadTimeVisibility:100*this.fSt||0,minVisiblePercentage:100*this.lSt,maxVisiblePercentage:100*this.vSt}},e.al=function(t){var e=this;if(this.bSt)this.TSt(t)||this.ur();else if(this.ZTt)if(this.ySt(t)||this.zTt){if(this.rSt&&(clearTimeout(this.rSt),this.rSt=null),this.nSt)this.ZTt(),this.ZTt=null,this.KTt&&(this.bSt=!0,this.sSt=0);else if(this.iSt){var n=this.iSt();this.iSt=null,n.then((function(){e.nSt=!0,e.update()}))}}else if(this.eSt&&!this.rSt){var i=this.wSt();i>0&&(this.rSt=setTimeout((function(){e.rSt=null,e.update()}),i))}else!this.eSt&&this.rSt&&(clearTimeout(this.rSt),this.rSt=null)},e.TSt=function(t){return ot(t>=0&&t<=1),1==this.YTt.visiblePercentageMin?1==t:0==this.YTt.visiblePercentageMax?0==t:t>this.YTt.visiblePercentageMin&&t<=this.YTt.visiblePercentageMax},e.ySt=function(t){ot(t>=0&&t<=1);var e=Date.now();t>0&&(this.hSt=this.hSt||e,this.cSt=e,!this.fSt&&e-this.tSt<300&&(this.fSt=t));var n=this.eSt,i=this.dSt?e-this.dSt:0;return this.eSt=this.TSt(t),this.eSt?(this.uSt=!0,n?(this.aSt+=i,this.sSt+=i,this.oSt=Math.max(this.oSt,this.sSt)):(ot(!this.dSt),this.Co=this.Co||e),this.dSt=e,this.lSt=this.lSt>0?Math.min(this.lSt,t):t,this.vSt=Math.max(this.vSt,t),this.Lt=e):n&&(ot(this.dSt>0),this.oSt=Math.max(this.oSt,this.sSt+i),this.dSt=0,this.aSt+=i,this.sSt=0,this.Lt=e),this.uSt&&this.aSt>=this.YTt.totalTimeMin&&this.aSt<=this.YTt.totalTimeMax&&this.oSt>=this.YTt.continuousTimeMin&&this.oSt<=this.YTt.continuousTimeMax},e.maybeSetInitialScrollDepth=function(t){this.pSt||(this.mSt=t,this.pSt=!0)},e.getInitialScrollDepth=function(){return this.mSt},e.wSt=function(){var t=Math.max(this.YTt.continuousTimeMin-this.sSt,0),e=Math.max(this.YTt.totalTimeMin-this.aSt,0),n=Math.max(t,e);return Math.min(n,t||1/0,e||1/0)},t}();function Di(t,e){return t>=e?t-e:0}var Li="amp-analytics/visibility-manager",ki="__AMP_VIS",Ui=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],Bi=1;function Vi(t){var e=t.__AMP_VIS_ID;return e||(e=++Bi,t.__AMP_VIS_ID=e),e}function qi(t){return t[ki]||(t[ki]=function(t){var e=yt(t),n=dt(t),i=n&&De(n),r=n&&function(t){if(Node.prototype.getRootNode)return t.getRootNode();var e,n;for(e=t;e.parentNode&&(!(n=e)||"I-AMPHTML-SHADOW-ROOT"!=n.tagName&&(11!=n.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(n)));e=e.parentNode);return e}(n);return i&&r?new ji(qi(r),i):new Hi(e)}(t)),t[ki]}var Fi=function(){function t(t,e){var n=this;this.parent=t,this.ampdoc=e,this.SSt=0,this.ASt=[],this.tZ=null,this.QTt=[],this.OSt=0,this.parent&&this.parent.NSt(this);var i=Pt(this.ampdoc);i.onChanged((function(){n.maybeUpdateMaxScrollDepth(i.getScrollTop())}))}var e=t.prototype;return e.NSt=function(t){this.tZ||(this.tZ=[]),this.tZ.push(t)},e.ISt=function(t){if(this.tZ){var e=this.tZ.indexOf(t);-1!=e&&this.tZ.splice(e,1)}},e.dispose=function(){this.setRootVisibility(0);for(var t=this.ASt.length-1;t>=0;t--)this.ASt[t].dispose();if(this.QTt.forEach((function(t){t()})),this.QTt.length=0,this.parent&&this.parent.ISt(this),this.tZ)for(var e=0;e<this.tZ.length;e++)this.tZ[e].dispose()},e.unsubscribe=function(t){this.QTt.push(t)},e.getStartTime=function(){},e.isBackgrounded=function(){},e.isBackgroundedAtStart=function(){},e.getRootMinOpacity=function(){},e.getRootLayoutBox=function(){},e.getRootVisibility=function(){return this.parent?this.parent.getRootVisibility()>0?this.SSt:0:this.SSt},e.setRootVisibility=function(t){if(this.SSt=t,this._St(),this.tZ)for(var e=0;e<this.tZ.length;e++)this.tZ[e]._St()},e.maybeUpdateMaxScrollDepth=function(t){t>this.OSt&&(this.OSt=t)},e.getMaxScrollDepth=function(){return this.OSt},e._St=function(){for(var t=0;t<this.ASt.length;t++)this.ASt[t].update()},e.listenRoot=function(t,e,n,i){var r=this.getRootVisibility.bind(this);return this.RSt(r,t,e,n,i)},e.listenElement=function(t,e,n,i,r){var o=this.getElementVisibility.bind(this,t);return this.RSt(o,e,n,i,r,t)},e.RSt=function(t,e,n,i,r,o){if(e.visiblePercentageThresholds&&null==e.visiblePercentageMin&&null==e.visiblePercentageMax){var s=[],a=e.visiblePercentageThresholds;if(!a||!v(a))return nt().error(Li,"invalid visiblePercentageThresholds"),function(){};for(var u=0;u<a.length;u++){var c=a[u];if(v(c)&&2==c.length)if(N(c[0])&&N(c[1])){var h=Number(c[0]),l=Number(c[1]);if(h<0||l>100||h>l||h==l&&100!=h&&0!=l)nt().error(Li,"visiblePercentageThresholds entry invalid min/max value");else{var f=e;f.visiblePercentageMin=h,f.visiblePercentageMax=l;var d=new xi(f,t,Pt(this.ampdoc));s.push(this.NT(d,e,n,i,r,o))}}else nt().error(Li,"visiblePercentageThresholds entry is not valid number");else nt().error(Li,"visiblePercentageThresholds entry length is not 2")}return function(){s.forEach((function(t){return t()}))}}var m=new xi(e,t,Pt(this.ampdoc));return this.NT(m,e,n,i,r,o)},e.NT=function(t,e,n,i,r,o){var s=this;i&&t.setReportReady(i);var a=Pt(this.ampdoc),u=a.getScrollTop();return this.maybeUpdateMaxScrollDepth(u),n?(t.setReady(!1),n.then((function(){t.setReady(!0),t.maybeSetInitialScrollDepth(u)}))):t.maybeSetInitialScrollDepth(u),t.onTriggerEvent((function(){var e,n=s.getStartTime(),i=t.getState(n);if(i.backgrounded=s.isBackgrounded()?1:0,i.backgroundedAtStart=s.isBackgroundedAtStart()?1:0,i.totalTime=Date.now()-n,o){i.elementId=o.id,i.opacity=Pi(o),e=a.getLayoutRect(o);var u=s.getElementVisibility(o),c=s.getElementIntersectionRect(o);Object.assign(i,{intersectionRatio:u,intersectionRect:JSON.stringify(c)})}else i.opacity=s.getRootMinOpacity(),i.intersectionRatio=s.getRootVisibility(),e=s.getRootLayoutBox();t.maybeDispose(),e&&(Object.assign(i,{elementX:e.left,elementY:e.top,elementWidth:e.width,elementHeight:e.height}),i.initialScrollDepth=_i(e,a,t.getInitialScrollDepth()),i.maxScrollDepth=_i(e,a,s.getMaxScrollDepth())),r(i)})),this.ASt.push(t),t.unsubscribe((function(){var e=s.ASt.indexOf(t);-1!=e&&s.ASt.splice(e,1)})),o&&t.unsubscribe(this.observe(o,(function(){return t.update()}))),t.update(),function(){t.dispose()}},e.observe=function(t,e){},e.getElementVisibility=function(t){},e.getElementIntersectionRect=function(t){},t}(),Hi=function(t){u(n,t);var e=d(n);function n(t){var n;if((n=e.call(this,null,t)).Ss=Pt(t),n.PSt=!t.isVisible(),n.CSt=n.isBackgrounded(),n.MSt=y(),n.ig=null,"inabox"==K(n.ampdoc.win).runtime){var i=n.ampdoc.getRootNode(),r=i.documentElement||i.body||i;n.unsubscribe(n.observe(r,n.setRootVisibility.bind(l(n))));var o=function(){var t=Vi(r),e=n.MSt[t];e&&(n.ampdoc.win.innerHeight<1||n.ampdoc.win.innerWidth<1?e.isVisible=!1:e.isVisible=!0,n.setRootVisibility(e.isVisible?e.intersectionRatio:0))};n.ampdoc.win.addEventListener("resize",o),n.unsubscribe((function(){n.ampdoc.win.removeEventListener("resize",o)}))}else n.setRootVisibility(n.ampdoc.isVisible()?1:0),n.unsubscribe(n.ampdoc.onVisibilityChanged((function(){var t=n.ampdoc.isVisible();t||(n.PSt=!0),n.setRootVisibility(t?1:0)})));return n}var i=n.prototype;return i.dispose=function(){t.prototype.dispose.call(this),this.ig&&(this.ig.disconnect(),this.ig=null)},i.getStartTime=function(){return this.ampdoc.getFirstVisibleTime()},i.isBackgrounded=function(){return this.PSt},i.isBackgroundedAtStart=function(){return this.CSt},i.getRootMinOpacity=function(){var t=this.ampdoc.getRootNode();return Pi(t.documentElement||t.body||t)},i.getRootLayoutBox=function(){var t=this.ampdoc.getRootNode(),e=t.documentElement||t.body||t;return this.Ss.getLayoutRect(e)},i.observe=function(t,e){var n=this,i=Vi(t),r=this.MSt[i];return r?r.intersectionRatio>0&&r.isVisible&&e(r.intersectionRatio):(r={element:t,intersectionRatio:0,intersectionRect:null,isVisible:!1,boundingClientRect:null,listeners:[]},this.MSt[i]=r),r.listeners.push(e),this.DSt().observe(t),function(){var r=n.MSt[i];if(r){var o=r.listeners.indexOf(e);-1!=o&&r.listeners.splice(o,1),0==r.listeners.length&&(n.ig.unobserve(t),delete n.MSt[i])}}},i.getElementVisibility=function(t){if(0==this.getRootVisibility())return 0;var e=Vi(t),n=this.MSt[e];return n&&n.isVisible&&n.intersectionRatio||0},i.getElementIntersectionRect=function(t){if(this.getElementVisibility(t)<=0)return null;var e=Vi(t),n=this.MSt[e];return n?n.intersectionRect:null},i.DSt=function(){if(!this.ig){var t=this.ampdoc.win;this.ig=new t.IntersectionObserver(this.LSt.bind(this),{threshold:Ui})}return this.ig},i.LSt=function(t){var e=this;t.forEach((function(t){var n=t.intersectionRect;n=Oi(Number(n.left),Number(n.top),Number(n.width),Number(n.height));var i=t.boundingClientRect;i=i&&Oi(Number(i.left),Number(i.top),Number(i.width),Number(i.height)),e.kSt(t.target,t.intersectionRatio,n,i)}))},i.kSt=function(t,e,n,i){e=Math.min(Math.max(e,0),1);var r=Vi(t),o=this.MSt[r],s=!0;if((i.width<1||i.height<1)&&(s=!1),o){o.isVisible=s,o.intersectionRatio=e,o.intersectionRect=n,o.boundingClientRect=i;for(var a=0;a<o.listeners.length;a++)o.listeners[a](o.isVisible?e:0)}},n}(Fi),ji=function(t){u(n,t);var e=d(n);function n(t,n){var i;return(i=e.call(this,t,t.ampdoc)).embed=n,i.CSt=i.parent.isBackgrounded(),i.unsubscribe(i.parent.observe(n.host,i.setRootVisibility.bind(l(i)))),i}var i=n.prototype;return i.getStartTime=function(){return this.embed.getStartTime()},i.isBackgrounded=function(){return this.parent.isBackgrounded()},i.isBackgroundedAtStart=function(){return this.CSt},i.getRootMinOpacity=function(){return Pi(this.embed.iframe)},i.getRootLayoutBox=function(){var t=this.embed.iframe;return Pt(this.ampdoc).getLayoutRect(t)},i.observe=function(t,e){return this.parent.observe(t,e)},i.getElementVisibility=function(t){return 0==this.getRootVisibility()?0:this.parent.getElementVisibility(t)},i.getElementIntersectionRect=function(t){return 0==this.getRootVisibility()?null:this.parent.getElementIntersectionRect(t)},n}(Fi),Gi=["AMP-AD","AMP-ANALYTICS","AMP-PIXEL","AMP-AD-EXIT"],Qi="amp-analytics/analytics-root",Yi=/^vars(.+)/,Wi=function(){function t(t){this.ampdoc=t,this.ATt=y(),this.xSt=null,this.USt=null}var e=t.prototype;return e.dispose=function(){for(var t in this.ATt)this.ATt[t].dispose(),delete this.ATt[t];this.xSt&&this.xSt.dispose(),this.USt&&this.USt.dispose()},e.getType=function(){},e.getRoot=function(){},e.getRootElement=function(){var t=this.getRoot();return t.host||t.documentElement||t.body||t},e.getHostElement=function(){},e.signals=function(){},e.contains=function(t){return this.getRoot().contains(t)},e.getElementById=function(t){},e.getTrackerForAllowlist=function(t,e){var n=e[t];return n?this.getTracker(t,n):null},e.getTracker=function(t,e){var n=this.ATt[t];return n||(n=new e(this),this.ATt[t]=n),n},e.getTrackerOptional=function(t){return this.ATt[t]||null},e.getElement=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return":root"==e?s((function(){return n.getRootElement()})):":host"==e?new Promise((function(t){t(nt().assertElement(n.getHostElement(),'Element "'.concat(e,'" not found')))})):this.ampdoc.whenReady().then((function(){var r,o=null;try{r="scope"==i?D(t,e):"closest"==i?k(t,e):n.getRoot().querySelector(e)}catch(t){st(!1,"Invalid query selector ".concat(e))}return r&&n.contains(r)&&(o=r),nt().assertElement(o,'Element "'.concat(e,'" not found'))}))},e.jSt=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.ampdoc.whenReady().then((function(){for(var i=[],r=0;r<t.length;r++){var o=void 0,s=[],a=t[r];try{o=e.getRoot().querySelectorAll(a)}catch(t){st(!1,"Invalid query selector ".concat(a))}for(var u=0;u<o.length;u++)e.contains(o[u])&&s.push(o[u]);st((s=n?e.HSt(s,a):s).length,'Element "'.concat(a,'" not found')),i=i.concat(s)}return i.filter((function(t,e){return i.indexOf(t)===e}))}))},e.HSt=function(t,e){for(var n=0,i=[],r=0;r<t.length;r++)Object.keys(B(t[r],void 0,Yi)).length?i.push(t[r]):n++;return n&&nt().warn(Qi,'%s element(s) ommited from selector "%s" because no data-vars-* attribute was found.',n,e),i},e.getAmpElement=function(t,e,n){var i=this;return this.getElement(t,e,n).then((function(t){return i.FSt([t],e),t}))},e.getElements=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return v(e)?(st(!n,"Cannot have selectionMethod %s defined with an array selector.",n),this.jSt(e,i)):this.getElement(t,e,n).then((function(t){return[t]}))},e.FSt=function(t,e){for(var n=0;n<t.length;n++)st(t[n].classList.contains("i-amphtml-element"),'Element "%s" is required to be an AMP element',e)},e.createSelectiveListener=function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(o){if(":host"!=n)for(var s=i.getRootElement(),a="*"==n,u=":root"==n,c=o.target;c&&i.contains(c)&&("scope"!=r||u||e.contains(c));)if("closest"!=r||c.contains(e)){if(a||u&&c==s||Zi(c,n)){t(c,o);break}c=c.parentElement}else c=c.parentElement}},e.whenIniLoaded=function(){},e.getVisibilityManager=function(){return this.xSt||(this.xSt=qi(this.getRoot())),this.xSt},e.getScrollManager=function(){return this.USt||(this.USt=new Mi(this)),this.USt},t}(),zi=function(t){u(n,t);var e=d(n);function n(t){return e.call(this,t)}var i=n.prototype;return i.getType=function(){return"ampdoc"},i.getRoot=function(){return this.ampdoc.getRootNode()},i.getHostElement=function(){return null},i.signals=function(){return this.ampdoc.signals()},i.getElementById=function(t){return this.ampdoc.getElementById(t)},i.whenIniLoaded=function(){var t,e=Pt(this.ampdoc);if("inabox"==K(this.ampdoc.win).runtime)e.getLayoutRect(this.getRootElement());else{var n=e.getSize();Oi(0,0,n.width,n.height)}return t=this.ampdoc,this.ampdoc.win,function(t,e){var n=yt(t);return n.signals().whenSignal("ready-scan").then((function(){var t=function(t){return ut(t,"resources")}(n).get().filter((function(t){return!Gi.includes(t.element.tagName)})).map((function(t){return t.element}));return 0===t.length?Promise.resolve([]):new Promise((function(e){for(var i=n.win,r=new i.IntersectionObserver((function(t){r.disconnect();for(var n=[],i=0;i<t.length;i++){var o=t[i],s=o.isIntersecting,a=o.target;s&&n.push(a)}e(n)}),{root:V(i)?i.document:null,threshold:.01}),o=0;o<Math.min(t.length,100);o++)r.observe(t[o])})).then((function(t){return Promise.all(t.map((function(t){return t.whenLoaded()})))}))}))}(t)},n}(Wi),Ki=function(t){u(n,t);var e=d(n);function n(t,n){var i;return(i=e.call(this,t)).embed=n,i}var i=n.prototype;return i.getType=function(){return"embed"},i.getRoot=function(){return this.embed.win.document},i.getHostElement=function(){return this.embed.iframe},i.signals=function(){return this.embed.signals()},i.getElementById=function(t){return this.embed.win.document.getElementById(t)},i.whenIniLoaded=function(){return this.embed.whenIniLoaded()},n}(Wi);function Zi(t,e){try{return L(t,e)}catch(t){return nt().error(Qi,"Bad query selector.",e,t),!1}}var Xi="__AMP_AN_ROOT",$i=function(){function t(t){this.ampdoc=t,this.Br=this.VSt(t.getRootNode())}var e=t.prototype;return e.dispose=function(){this.Br.dispose()},e.getAnalyticsRoot=function(t){return this.VSt(t)},e.createAnalyticsGroup=function(t){var e=this.VSt(t);return new Ni(e,t)},e.qSt=function(t){return t===ii?gi:pi},e.triggerEventForTarget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=new di(t,e,n,i),o=this.VSt(t),s=hi(e),a=o.getTracker(s,this.qSt(s));a.trigger(r)},e.VSt=function(t){var e=yt(t),n=dt(t),i=n&&De(n);return e==this.ampdoc&&!i&&this.Br?this.Br:this.GSt(i||e,(function(){return i?new Ki(e,i):new zi(e)}))},e.GSt=function(t,e){var n=t[Xi];return n||(n=e(),t[Xi]=n),n},t}(),Ji="amp-analytics/linker-manager",tr=function(){function t(t,e,n,i){this.xi=t,this.QN=e.linkers,this.NG=e.vars||{},this.bI=n,this.Yp=i,this.BSt={},this.fA=Mt(this.Yp),this.Ctt=ht(t,"form-submit-service"),this.WSt=null,this.cA=Tn(this.xi),this.$St=null}var e=t.prototype;return e.init=function(){var t=this;if(!b(this.QN))return r();this.$St=Ae(this.xi.win),this.QN=this.YSt(this.QN);var e=Object.keys(this.QN).map((function(e){var n=t.QN[e].ids,i=Object.keys(n),r=i.map((function(e){var i=new ln(t.NG,void 0,!0);return t.zSt(n[e],i)}));return Promise.all(r).then((function(n){var r={};return n.forEach((function(t,e){t&&(r[i[e]]=t)})),t.BSt[e]=r,r}))}));if(e.length){var n=ut(this.xi,"navigation");n.registerAnchorMutator((function(e,n){e.href&&"click"===n.type&&(e.href=t.KSt(e.href))}),2),n.registerNavigateToMutator((function(e){return t.KSt(e)}),2)}return this.JSt(),Promise.all(e)},e.dispose=function(){this.WSt&&this.WSt()},e.YSt=function(t){var e={},n={enabled:this.XSt()&&this.ZSt()},i=Object.keys(t).filter((function(e){var i=t[e],r=b(i);return r||(n[e]=i),r})),r=Ue.getLocation(this.xi.win),o=this.fA.isProxyOrigin(r);return i.forEach((function(i){var r=Qt(Qt({},n),t[i]);!0===r.enabled?(o||!1===r.proxyOnly)&&(r.ids?e[i]=r:nt().error(Ji,'"ids" is a required field for use of "linkers".')):nt().info(Ji,"linker config for %s is not enabled and will be ignored.",i)})),e},e.zSt=function(t,e){var n=this,i=this.cA.getMacros(this.Yp);return this.cA.expandTemplate(t,e,this.Yp).then((function(t){return Ot(n.Yp).expandUrlAsync(t,i)}))},e.XSt=function(){return"googleanalytics"===this.bI&&"googleanalytics"===this.xi.getMetaByName("amp-google-client-id-api")&&this.xi.registerSingleton(2)},e.ZSt=function(){var t=at(this.xi.win,"platform");return t.isSafari()&&t.getMajorVersion()>=12},e.KSt=function(t){var e=this.QN;for(var n in e)this.BSt[n]&&(t=this.QSt(t,n,e[n]));return t},e.QSt=function(t,e,n){var i=this.fA.parse(t);if(this.tAt(i,e,n)&&this.nAt(i)){var r=He("1",this.BSt[e]);if(r){var o={};return o[e]=r,function(t,e){for(var n=Y(se(t).search),i={},r=Object.keys(e),o=0;o<r.length;o++)w(n,r[o])||(i[r[o]]=e[r[o]]);return function(t,e){return ae(t,ce(e))}(t,i)}(t,o)}}return t},e.tAt=function(t,e,n){var i=n.destinationDomains,r=t.hostname,o=Ue.getHostname(this.xi.win),s=n.sameDomainEnabled;if(!Boolean(s)&&o===r)return!1;if(i&&!Array.isArray(i))return nt().warn(Ji,"%s destinationDomains must be an array.",e),!1;if(i)return this.iAt(i,r);var a=ut(this.xi,"documentInfo").get(),u=a.canonicalUrl,c=a.sourceUrl,h=er(this.fA.parse(u).hostname,r);if(this.$St){var l=[this.$St,"*"+this.$St];return this.iAt(l,r)||h}return er(this.fA.parse(c).hostname,r)||h},e.nAt=function(t){return"https:"===t.protocol||"http:"===t.protocol},e.iAt=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i===e)return!0;if(-1!==i.indexOf("*")&&ir(e,i))return!0}return!1},e.JSt=function(){var t=this;this.WSt||this.Ctt.then((function(e){t.WSt=e.beforeSubmit(t.rAt.bind(t))}))},e.rAt=function(t){var e=t.actionXhrMutator,n=t.form;for(var i in this.QN){var r=this.QN[i],o=n.getAttribute("action-xhr")||n.getAttribute("action"),s=this.fA.parse(o);this.tAt(s,i,r)&&this.eAt(n,e,i)}},e.eAt=function(t,e,n){var i=this.BSt[n];if(i){var r=He("1",i),o=t.getAttribute("action-xhr");if(o)return e(ae(o,ue(n,r),void 0));this.uAt(t,n,r)}},e.uAt=function(t,e,n){var i={type:"hidden",name:e,value:n},r=U(t.ownerDocument,"input",i);t.appendChild(r)},t}();function er(t,e){return nr(t)===nr(e)}function nr(t){return t.replace(/^(?:www\.|m\.|amp\.)+/,"")}function ir(t,e){var n=e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*");return new RegExp("^"+n+"$").test(t)}var rr={AMPDOC_HOST:!0,AMPDOC_HOSTNAME:!0,AMPDOC_URL:!0,AMP_VERSION:!0,AVAILABLE_SCREEN_HEIGHT:!0,AVAILABLE_SCREEN_WIDTH:!0,BACKGROUND_STATE:!0,BROWSER_LANGUAGE:!0,CANONICAL_HOST:!0,CANONICAL_HOSTNAME:!0,CANONICAL_PATH:!0,CANONICAL_URL:!0,DOCUMENT_CHARSET:!0,FIRST_CONTENTFUL_PAINT:!0,FIRST_VIEWPORT_READY:!0,MAKE_BODY_VISIBLE:!0,RANDOM:!0,SCREEN_COLOR_DEPTH:!0,SCREEN_HEIGHT:!0,SCREEN_WIDTH:!0,SOURCE_HOST:!0,SOURCE_HOSTNAME:!0,SOURCE_PATH:!0,SOURCE_URL:!0,TIMESTAMP:!0,TIMEZONE:!0,TIMEZONE_CODE:!0,USER_AGENT:!0,VIEWPORT_HEIGHT:!0,VIEWPORT_WIDTH:!0},or="${extraUrlParams}",sr={default:new(function(){function t(){}var e=t.prototype;return e.generateRequest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?{url:t.replace(or,""),payload:JSON.stringify(e.extraUrlParams)}:{url:ar(t,[e])}},e.generateBatchRequest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?{url:t.replace(or,""),payload:JSON.stringify(e.map((function(t){return t.extraUrlParams})))}:{url:ar(t,e)}},t}())};function ar(t,e){var n=e.map((function(t){return ce(t.extraUrlParams)})).filter(Boolean).join("&");return t.indexOf(or)>=0?t.replace(or,n):ae(t,n)}var ur=function(){function t(t,e,n,i,r){this.Yp=t,this.xi=t.getAmpDoc(),this.win=this.xi.win,this.sAt=e.origin,this.baseUrl=ot(e.baseUrl),this.oAt=e.batchInterval,this.aAt=Number(e.reportWindow)||null,this.hAt=null,this.cA=Tn(t),this.ZC=Ot(t),this.fA=Mt(t),this.cAt=null,this.fAt=null,this.lAt=[],this.vAt=n,this.TN=i,this.$r=r?rr:void 0,this.dAt=null,this.mAt=null,this.pAt=!0,this.bAt=null,this.v0=0,this.fh=Date.now(),this.EAt(),this.gAt()}var e=t.prototype;return e.send=function(t,e,n){var i=!0===e.important;if(this.pAt||i){this.v0++,this.bAt=e;var r,o,s,a=this.cA.getMacros(this.Yp);if(a.RESOURCE_TIMING=(r=this.Yp,o=e.resourceTimingSpec,s=this.fh,o&&Date.now()<s+6e4?function(t,e){var n,i=t.getAmpDoc().win;if(e.done||!i.performance||!i.performance.now||!i.performance.getEntriesByType||!(b((n=e).resources)?n.encoding&&n.encoding.entry&&n.encoding.delim?n.encoding.base<2||n.encoding.base>36?(nt().warn("ANALYTICS","resource timing variables only supports bases between 2 and 36"),0):null==n.responseAfter||"number"==typeof n.responseAfter||(nt().warn("ANALYTICS",'resourceTimingSpec["responseAfter"] must be a number'),0):(nt().warn("ANALYTICS","resourceTimingSpec is missing or has incomplete encoding options"),0):(nt().warn("ANALYTICS",'resourceTimingSpec missing "resources" field'),0)))return e.done=!0,Promise.resolve("");var r=function(t){return t.performance.getEntriesByType("resource")}(i);r.length>=150&&(e.done=!0);var o,s=e.responseAfter||0;return e.responseAfter=Math.max(s,i.performance.now()),(r=r.filter((function(t){return t.startTime+t.duration>=s}))).length?(o=function(){return function(t,e,n){var i=e.resources,r=e.encoding,o=Tn(n),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(t-e).toString(r.base||10)},a=function(t,e){var n=function(t){var e={};for(var n in t){var i=t[n].host||"",r=t[n].path||"",o=t[n].query||"",s={name:n,pathPattern:new RegExp(r),queryPattern:new RegExp(o)};e[i]?e[i].resources.push(s):e[i]={hostPattern:new RegExp(i),resources:[s]}}var a=[];for(var u in e)a.push(e[u]);return a}(e),i=[];return t.forEach((function(t){var e=function(t,e){for(var n=t.name,i=0;i<e.length;++i){var r=e[i],o=r.hostPattern,s=r.resources;if(o.test(n.host)){var a=m(s,(function(t){return t.pathPattern.test(n.pathname)&&t.queryPattern.test(n.search)}));if(-1!=a)return s[a].name}}return null}(t,n);e&&i.push({entry:t,name:e})})),i}(t,i).map((function(t){return function(t,e,n){var i={key:e,startTime:n(t.startTime),redirectTime:n(t.redirectEnd,t.redirectStart),domainLookupTime:n(t.domainLookupEnd,t.domainLookupStart),tcpConnectTime:n(t.connectEnd,t.connectStart),serverResponseTime:n(t.responseStart,t.requestStart),networkTransferTime:n(t.responseEnd,t.responseStart),transferSize:n(t.transferSize||0),encodedBodySize:n(t.encodedBodySize||0),decodedBodySize:n(t.decodedBodySize||0),duration:n(t.duration),initiatorType:t.initiatorType};return new ln(i,1)}(t.entry,t.name,s)})).map((function(t){return o.expandTemplate(r.entry,t,n)}));return Promise.all(a).then((function(t){return t.join(r.delim)}))}(r,e,t)},new Promise((function(t){setTimeout((function(){return t(o())}))}))):Promise.resolve("")}(r,o):Promise.resolve("")),this.cAt||(n.freezeVar("extraUrlParams"),this.cAt=this.TAt(this.baseUrl,n,a)),!this.fAt&&this.sAt){var u=new ln(n.vars,n.iterations,!0);this.fAt=this.TAt(this.sAt,u,a)}var c=Qt(Qt({},t),e.extraUrlParams),h=this.win.Date.now(),l=cr(this.cA,this.ZC,c,n,a,this.Yp,this.$r).then((function(t){return{trigger:e.on,timestamp:h,extraUrlParams:t}}));this.lAt.push(l),this.Cr(i||!this.oAt)}},e.dispose=function(){this.ur(),this.dAt&&(this.win.clearTimeout(this.dAt),this.dAt=null),this.mAt&&(this.win.clearTimeout(this.mAt),this.mAt=null)},e.TAt=function(t,e,n){var i=this;return this.cA.expandTemplate(t,e,this.Yp,n,this.$r).then((function(t){return i.ZC.expandUrlAsync(t,n,i.$r).catch((function(e){return st(!1,'Could not expand URL "'.concat(t,'": ').concat(e.message))}))}))},e.Cr=function(t){0!=this.v0&&t&&this.yAt()},e.yAt=function(){var t=this,e=this.cAt,n=this.lAt,i=this.fAt,r=this.bAt;this.ur(),(i||e).then((function(e){t.vAt.url(t.xi,e,!0)})),Promise.all([e,Promise.all(n),i]).then((function(e){var n=t.wAt(e[0],e[2]),i=e[1];0!==i.length&&(r.iframePing?(st(r.on==si,"iframePing is only available on page view requests."),t.TN.sendRequestUsingIframe(n,i[0])):t.TN.sendRequest(n,i,!!t.oAt))}))},e.ur=function(){this.v0=0,this.cAt=null,this.lAt=[],this.bAt=null},e.gAt=function(){if(this.oAt){this.oAt=v(this.oAt)?this.oAt:[this.oAt];for(var t=0;t<this.oAt.length;t++){var e=this.oAt[t];st(N(e),"Invalid batchInterval value: %s",this.oAt),st((e=1e3*Number(e))>=200,"Invalid batchInterval value: %s, interval value must be greater than %s ms.",this.oAt,200),this.oAt[t]=e}this.hAt=0,this.SAt()}},e.EAt=function(){var t=this;this.aAt&&(this.mAt=this.win.setTimeout((function(){t.Cr(!0),t.pAt=!1,t.dAt&&(t.win.clearTimeout(t.dAt),t.dAt=null)}),1e3*this.aAt))},e.SAt=function(){var t=this;ot(null!=this.hAt);var e=this.hAt<this.oAt.length?this.oAt[this.hAt++]:this.oAt[this.oAt.length-1];this.dAt=this.win.setTimeout((function(){t.Cr(!0),t.SAt()}),e)},e.wAt=function(t,e){return e?this.fA.parse(e).origin+t:t},t}();function cr(t,e,n,i,r,o,s){for(var a={},u=[],c=new ln(i.vars,i.iterations,!0),h=function n(i,a,h){var l=i[a];if("string"==typeof l){h[a]=void 0;var f=t.expandTemplate(l,c,o).then((function(t){return e.expandStringAsync(t,r,s)})).then((function(t){h[a]=t}));u.push(f)}else if(v(l)){h[a]=[];for(var d=0;d<l.length;d++)n(l,d,h[a])}else if(b(l)&&null!==l){h[a]={};for(var m=Object.keys(l),p=0;p<m.length;p++)n(l,m[p],h[a])}else h[a]=l},l=Object.keys(n),f=0;f<l.length;f++)h(n,l[f],a);return Promise.all(u).then((function(){return a}))}var hr=function(){function t(t,e){var n=this;this.fct=e,this.D5=!1,this.AAt=[],this.Ppt=new xe(this.fct,"send-iframe-transport-events",!0,(function(){n.setIsReady()}))}var e=t.prototype;return e.isReady=function(){return this.D5},e.setIsReady=function(){this.D5=!0,this.OAt()},e.queueSize=function(){return this.AAt.length},e.enqueue=function(t){ot(t&&t.creativeId&&t.message),this.AAt.push(t),this.queueSize()>=100&&(rt().warn("amp-analytics/iframe-transport-message-queue","Exceeded maximum size of queue for: "+t.creativeId),this.AAt.shift()),this.OAt()},e.OAt=function(){this.isReady()&&this.queueSize()&&(this.Ppt.send("iframe-transport-events",{events:this.AAt}),this.AAt=[])},t}(),lr=self.AMP.config.urls,fr=function(){function t(t,e,n,i){this.NAt=t,this.bI=e,this.IAt=i,ot(n&&n.iframe),this._At=n.iframe,this.RAt=0,this.processCrossDomainIframe()}var e=t.prototype;return e.detach=function(){t.markCrossDomainIframeAsDone(this.NAt.document,this.bI)},e.processCrossDomainIframe=function(){var e;t.hasCrossDomainIframe(this.bI)?++(e=t.getFrameData(this.bI)).usageCount:(e=this.createCrossDomainIframe(),this.NAt.document.body.appendChild(e.frame),this.rp()),ot(e)},e.createCrossDomainIframe=function(){var e=t.PAt(),n=JSON.stringify({scriptSrc:(this.NAt,lr.thirdParty+"/".concat("2306202201000","/iframe-transport-client-v0.js")),sentinel:e,type:this.bI}),i=U(this.NAt.document,"iframe",{sandbox:"allow-scripts allow-same-origin",name:n,"data-amp-3p-sentinel":e});i.sentinel=e,Ie(i,!1),i.src=this._At;var r={frame:i,usageCount:1,queue:new hr(this.NAt,i)};return t.CAt[this.bI]=r,r},e.rp=function(){var e,n=this;(e=this.NAt).PerformanceObserver&&e.TaskAttributionTiming&&"containerName"in e.TaskAttributionTiming.prototype&&(t.MAt[this.bI]=new this.NAt.PerformanceObserver((function(t){t&&t.getEntries().forEach((function(t){t&&"longtask"==t.entryType&&"cross-origin-descendant"==t.name&&t.attribution&&t.attribution.forEach((function(t){n._At==t.containerSrc&&++n.RAt%5==0&&nt().error("amp-analytics/iframe-transport",'Long Task: Vendor: "'.concat(n.bI,'"'))}))}))})),t.MAt[this.bI].observe({entryTypes:["longtask"]}))},t.markCrossDomainIframeAsDone=function(e,n){var i=t.getFrameData(n);ot(i&&i.frame&&i.usageCount),--i.usageCount||(e.body.removeChild(i.frame),delete t.CAt[n],t.MAt[n]&&(t.MAt[n].disconnect(),t.MAt[n]=null))},t.hasCrossDomainIframe=function(e){return w(t.CAt,e)},t.PAt=function(){return String(++t.DAt)},e.sendRequest=function(e){var n=t.getFrameData(this.bI);ot(n),ot(n.queue),n.queue.enqueue({creativeId:this.IAt,message:e})},t.getFrameData=function(e){return t.CAt[e]},t.resetCrossDomainIframes=function(){t.CAt={}},e.getCreativeId=function(){return this.IAt},e.getType=function(){return this.bI},t}();function dr(t){var e;return null===(e=t.featurePolicy)||void 0===e?void 0:e.allowedFeatures().includes("attribution-reporting")}function vr(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ue.getImage(t),o=new r;return n&&(o.referrerPolicy="no-referrer"),o.src=e,dr(t.document)&&(o.attributionsrc=i),o}fr.CAt={},fr.DAt=0,fr.MAt={};var mr,pr,gr="amp-analytics/transport",Er=function(){function t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.xi=t,this.t=t.win,this.xt=e,this.Nr=this.xt.referrerPolicy,"no-referrer"===this.Nr&&(this.xt.beacon=!1,this.xt.xhrpost=!1),this.LAt=!!this.xt.useBody,this.kAt=null,this.xAt="inabox"==K(this.t).runtime,this.UAt=this.xt.attributionsrc}var e=t.prototype;return e.sendRequest=function(e,n,i){if(e&&0!==n.length){var r,o,s=this.jAt(),a=(r=function(t){var r=i?s.generateBatchRequest(e,n,t):s.generateRequest(e,n[0],t);return r.url.startsWith("amp-script:")||(le(r.url,"amp-analytics request"),function(t){st(!("__amp_source_origin"in Y(se(t).search)),"Source origin is not allowed in %s",t)}(r.url)),r},o={},function(t){var e=String(t);return void 0===o[e]&&(o[e]=r(t)),o[e]});if(this.xt.iframe)return this.kAt?void this.kAt.sendRequest(a(!1).url):void rt().error(gr,"iframe transport was inadvertently deleted");if(this.xt["amp-script"])t.forwardRequestToAmpScript(this.xi,{url:e,payload:a(!0).payload});else if(!(this.xt.beacon&&t.sendRequestUsingBeacon(this.t,a(this.LAt))||this.xt.xhrpost&&t.sendRequestUsingXhr(this.t,a(this.LAt)))){var u=this.xt.image;if(u){var c="object"==h(u)&&u.suppressWarnings;t.sendRequestUsingImage(this.t,a(!1),c,this.Nr,this.UAt)}else nt().warn(gr,"Failed to send request",e,this.xt)}}else rt().info(gr,"Empty request not sent: ",e)},e.maybeInitIframeTransport=function(t){if(this.xt.iframe&&!this.kAt){var e=ft(M(t)),n=t.getAttribute("type"),i=this.xAt?"1":nt().assertString(function(t,e){try{var n=dt(t,e).parentElement;if("AMP-AD"==n.nodeName)return String(n.getResourceId())}catch(t){}return null}(t,e),"No friendly amp-ad ancestor element was found for amp-analytics tag with iframe transport.");this.kAt=new fr(e,n,this.xt,i)}},e.deleteIframeTransport=function(){this.kAt&&(this.kAt.detach(),this.kAt=null)},e.sendRequestUsingIframe=function(t,e){var n=this,i=ar(t,[e]);if(i){le(i,"amp-analytics request"),st(se(i).origin!=se(this.t.location.href).origin,"Origin of iframe request must not be equal to the document origin. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.");var r=this.t.document.createElement("iframe");Ie(r,!1),r.onload=r.onerror=function(){It(n.t).delay((function(){var t,e;null===(e=(t=r).parentElement)||void 0===e||e.removeChild(t)}),5e3)},r.setAttribute("amp-analytics",""),r.setAttribute("sandbox","allow-scripts allow-same-origin"),r.src=i,this.t.document.body.appendChild(r)}else nt().error(gr,"Request not sent. Contents empty.")},e.jAt=function(){return sr.default},t.sendRequestUsingImage=function(t,e,n,i,r){t&&function(t){var e,n;if(function(t){return!!(t.complete||"complete"==t.readyState||Ut(t)&&t.readyState>0||t.document&&"complete"==t.document.readyState)}(t))return Promise.resolve(t);var i=Ut(t);return i&&t.__AMP_MEDIA_LOAD_FAILURE_SRC===t.currentSrc?Promise.reject(t):new Promise((function(r,o){if(e=i?kt(t,"loadedmetadata",r,{capture:!0}):kt(t,"load",r),t.tagName){var s=t;if(i&&!t.hasAttribute("src")&&!(s=function(t,e){for(var n=t.lastElementChild;n;n=n.previousElementSibling)if(e(n))return n;return null}(t,(function(t){return"SOURCE"===t.tagName}))))return o(new Error("Media has no source."));n=kt(s,"error",o)}})).then((function(){return n&&n(),t}),(function(){e&&e(),function(t){Ut(t)&&(t.__AMP_MEDIA_LOAD_FAILURE_SRC=t.currentSrc||!0);var e=t;throw e&&e.src&&(e=e.src),nt().createError("Failed to load:",e)}(t)}))}(function(t,e,n,i){return n&&"no-referrer"!==n&&nt().error("pixel","Unsupported referrerPolicy: %s",n),"no-referrer"===n?function(t,e,n){if("referrerPolicy"in Image.prototype)return vr(t,e,!0,n);var i=U(t.document,"iframe",{src:"about:blank",style:"display:none"});return i.onload=function(){vr(i.contentWindow,e)},t.document.body.appendChild(i),i}(t,e,i):vr(t,e,!1,i)}(t,e.url,i,r)).then((function(){rt().fine(gr,"Sent image request",e.url)})).catch((function(){n||nt().warn(gr,"Response unparseable or failed to send image request",e.url)}))},t.sendRequestUsingBeacon=function(t,e){var n=Ue.getSendBeacon(t);if(!n)return!1;var i=n(e.url,e.payload||"");return i&&rt().fine(gr,"Sent beacon request",e),i},t.sendRequestUsingXhr=function(t,e){var n=Ue.getXMLHttpRequest(t);if(!n)return!1;var i=new n;return"withCredentials"in i&&(i.open("POST",e.url,!0),i.withCredentials=!0,i.setRequestHeader("Content-Type","text/plain"),i.onreadystatechange=function(){4==i.readyState&&rt().fine(gr,"Sent XHR request",e.url)},i.send(e.payload||""),!0)},t.forwardRequestToAmpScript=function(t,e){return(n=t,function(t,e,n){var i=ct(t,e);return i?Promise.resolve(i):St(t,e,"amp-script")}(n,"amp-script")).then((function(t){st(t,"AMP-SCRIPT is not installed"),t.fetch(e.url,JSON.parse(e.payload))}));var n},t}(),Ar="amp-analytics",Tr=[si,Jn,ti,ei],Sr=function(t){u(n,t);var e=d(n);function n(t){var n;return(n=e.call(this,t)).HAt=r(),n.FAt=null,n.xEt=!1,n.cG={},n.QN={},n.VAt=null,n.qAt=null,n.cA=null,n.GAt=wt(n.win),n.BAt=null,n.TN=null,n.bI=n.element.getAttribute("type"),n.xAt="inabox"==K(n.win).runtime,n.WAt=null,n.$At=null,n.YAt=null,n}var i=n.prototype;return i.getLayoutPriority=function(){return this.xAt?0:1},i.isAlwaysFixed=function(){return!Le(this.element)},i.isLayoutSupported=function(t){return!0},i.buildCallback=function(){var t,e=this;this.xEt=this.element.hasAttribute("sandbox"),this.element.setAttribute("aria-hidden","true"),this.FAt=this.element.getAttribute("data-consent-notification-id"),null!=this.FAt&&(this.HAt=(t=this.element,function(t,e,n,i){return St(t,"userNotificationManager",n,void 0).then((function(t){return function(t,e,n){return st(t,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.","userNotificationManager",n,n,n)}(t,0,n)}))}(t,0,"amp-user-notification")).then((function(t){return t.get(e.FAt)}))),"immediate"==this.element.getAttribute("trigger")&&this.zAt()},i.layoutCallback=function(){return this.zAt()},i.detachedCallback=function(){for(var t in this.qAt&&(this.qAt.dispose(),this.qAt=null),this.WAt&&(this.WAt.dispose(),this.WAt=null),this.cG)this.cG[t].dispose(),delete this.cG[t]},i.resumeCallback=function(){var t=this;this.BAt&&this.BAt.then((function(){t.TN.maybeInitIframeTransport(t.element)}))},i.unlayoutCallback=function(){var e=this;return!this.getAmpDoc().isVisible()&&(this.BAt&&this.BAt.then((function(){e.TN.deleteIframeTransport()})),t.prototype.unlayoutCallback.call(this))},i.zAt=function(){var t=this;if(this.BAt)return this.BAt;var e=this.getAmpDoc();return this.BAt=e.whenFirstVisible().then((function(){return It(t.win).promise(1)})).then((function(){return t.HAt})).then((function(){return Promise.all([(t=e,ht(t,"amp-analytics-instrumentation")),Sn(e)]);var t})).then((function(e){t.VAt=e[0],t.cA=e[1];var n=new o,i=function(){var e=new Rn(t.element).loadConfig();n.resolve(e)};return t.xAt?i():Dn(t.element,i,20),n.promise})).then((function(e){return t.QN=e,new Hn(t.win,t.element,t.QN).write()})).then((function(){t.TN=new Er(t.getAmpDoc(),t.QN.transport||{})})).then(this.KAt.bind(this)).then(this.JAt.bind(this)).then(this.XAt.bind(this)),this.BAt.then((function(){t.collapse()})),this.BAt},i.ZAt=function(){return!!this.xAt||(null==this.YAt&&(this.YAt=Le(this.element)),this.YAt)},i.KAt=function(){var t=this;return this.QN.triggers&&Object.values(this.QN.triggers).some((function(t){var e;return null==t||null===(e=t.session)||void 0===e?void 0:e.persistEvent}))&&this.bI?sn(this.getAmpDoc()).then((function(e){t.$At=e})):r()},i.JAt=function(){var t=this;if(this.QAt()){var e=this.Gi();return nt().fine(e,"User has opted out. No hits will be sent."),r()}if(this.tOt(),!this.QN.triggers){var n=this.Gi();return this.user().warn(n,"No triggers were found in the config. No analytics data will be sent."),r()}this.nOt(this.QN.extraUrlParams,this.QN.extraUrlParamsReplaceMap),this.qAt=this.VAt.createAnalyticsGroup(this.element),this.TN.maybeInitIframeTransport(this.element);var i=[];for(var o in this.QN.triggers)!w(this.QN.triggers,o)||function(){var e=t.QN.triggers[o],n=t.iOt({},e,void 0,!0),r=t.Gi();if(!e)return t.user().error(r,"Trigger should be an object: ",o),"continue";var s,a=e.request||e.parentPostMessage&&t.ZAt();if(!e.on||!a){var u=t.ZAt()?'/"parentPostMessage"':"";return t.user().error(r,'"on" and "request"'+u+" attributes are required for data to be collected."),"continue"}if(t.xEt){var c=e.on;if(!("click"!==(s=c)&&"browser-event"!==s&&"custom"!==s&&"hidden"!==s&&"ini-load"!==s&&"render-start"!==s&&"scroll"!==s&&"story"!==s&&"timer"!==s&&"video"!==s&&"visible"!==s||Tr.includes(c)))return t.user().error(r,c+" is not supported for amp-analytics in scope"),"continue"}t.nOt(e.extraUrlParams,t.QN.extraUrlParamsReplaceMap),i.push(t.rOt(e).then((function(i){if(i){if(t.xEt){if(!t.element.parentElement)return;return e.selector=t.element.parentElement.tagName,e.selectionMethod="closest",t.eOt(e)}return e.selector&&!v(e.selector)?t.cA.expandTemplate(e.selector,n,t.element).then((function(n){return e.selector=n,t.eOt(e)})):t.eOt(e)}})))}();return Promise.all(i)},i.preload=function(t,e){Nt(this.win).preload(this.getAmpDoc(),t,e)},i.eOt=function(t){if(!this.qAt)return r();try{return this.qAt.addTrigger(t,this.hy.bind(this,t))}catch(e){return j(this.Gi(),'Failed to process trigger "'+t.on+'"',e),r()}},i.nOt=function(t,e){if(t&&e){var n=0;for(var i in e){if(++n>16){var r=this.Gi();this.user().error(r,"More than 16 extraUrlParamsReplaceMap rules aren't allowed; Skipping the rest");break}for(var o in t){var s=o.replace(i,e[i]);if(o!=s){var a=t[o];delete t[o],t[s]=a}}}}},i.QAt=function(){var t=this.QN.optoutElementId;if(t&&this.win.document.getElementById(t))return!0;if(!this.QN.optout)return!1;for(var e=this.QN.optout.split("."),n=this.win,i=0;i<e.length;i++){if(!n)return!1;n=n[e[i]]}return n()},i.tOt=function(){var t=this;if(this.QN.requests){if(this.QN.requests){for(var e in this.QN.requests)w(this.QN.requests,e)&&(this.QN.requests[e].baseUrl||(this.user().error(Ar,"request must have a baseUrl"),delete this.QN.requests[e]));for(var n in this.QN.requests)this.QN.requests[n].baseUrl=g(this.QN.requests[n].baseUrl,(function(e){var n=t.QN.requests[e];return n&&n.baseUrl||"${"+e+"}"}),5);var i={};for(var r in this.QN.requests)if(w(this.QN.requests,r)){var o=this.QN.requests[r];i[r]=new ur(this.element,o,Nt(this.win),this.TN,this.xEt)}this.cG=i}}else if(!this.ZAt()){var s=this.Gi();this.user().warn(s,"No request strings defined. Analytics data will not be sent from this page.")}},i.XAt=function(){var t=this;this.WAt=new tr(this.getAmpDoc(),this.QN,this.bI,this.element);var e=function(){t.WAt.init()};this.xAt?e():Dn(this.element,e,10)},i.hy=function(t,e){var n,i;null===(n=t.session)||void 0===n||!n.persistEvent||null===(i=this.$At)||void 0===i||i.updateEvent(this.bI);for(var r=v(t.request)?t.request:[t.request],o=0;o<r.length;o++){var s=r[o];this.uOt(s,t,e)}},i.uOt=function(t,e,n){var i=this;if(!this.element.ownerDocument.defaultView){var r=this.Gi();rt().warn(r,"request against destroyed embed: ",e.on)}var o=this.cG[t],s=this.ZAt()&&e.parentPostMessage;if(null!=t&&!o){var a=this.Gi();if(this.user().error(a,"Ignoring request for event. Request string not found: ",e.request),!s)return}this.sOt(e,n).then((function(t){var r=i.element.ownerDocument&&i.element.ownerDocument.defaultView;t&&r&&(i.oOt(o,e,n),e.parentPostMessage&&i.ZAt()&&V(i.win)&&i.aOt(e,n))}))},i.oOt=function(t,e,n){if(t){this.QN.vars.requestCount++;var i=this.iOt(n,e);t.send(this.QN.extraUrlParams,e,i)}},i.aOt=function(t,e){var n=this,i=t.parentPostMessage,r=this.iOt(e,t);(function(t,e,n,i,r,o){var s=Tn(t),a=Ot(o),u=s.getMacros(o);r.freezeVar("extraUrlParams");var c=s.expandTemplate(e,r,o).then((function(t){return a.expandStringAsync(t,u)}));return e.indexOf("${extraUrlParams}")<0?c:c.then((function(t){var e=Qt(Qt({},n),i.extraUrlParams);return cr(s,a,e,r,u,o).then((function(e){return ar(t,[{extraUrlParams:e}])}))}))})(this.getAmpDoc(),i,this.QN.extraUrlParams,t,r,this.element).then((function(t){n.win.parent.postMessage(t,"*")}))},i.rOt=function(t){var e=this,n=t.sampleSpec,i=this.Gi();if(!n)return Promise.resolve(!0);var r=n.sampleOn;if(!r)return this.user().error(i,"Invalid sampleOn value."),Promise.resolve(!0);var s=parseFloat(n.threshold);if(s>=0&&s<=100){var a=new o,u=function(){var n=e.iOt({},t),i=e.zSt(r,n).then((function(t){return e.GAt.uniform(t)})).then((function(t){return 100*t<s}));a.resolve(i)};return this.xAt?u():Dn(this.element,u,10),a.promise}return nt().error(i,"Invalid threshold for sampling."),Promise.resolve(!0)},i.sOt=function(t,e){var n=this.iOt(e,t),i=this.hOt(this.QN.enabled,n),r=this.hOt(t.enabled,n);return Promise.all([i,r]).then((function(t){return ot(2===t.length),t[0]&&t[1]}))},i.hOt=function(t,e){return void 0===t?Promise.resolve(!0):"boolean"==typeof t?Promise.resolve(t):this.zSt(t,e).then((function(t){return yn(t)}))},i.zSt=function(t,e){var n=this;return this.cA.expandTemplate(t,e,this.element).then((function(t){return Ot(n.element).expandUrlAsync(t,n.cA.getMacros(n.element))}))},i.Gi=function(){return"AmpAnalytics "+(this.element.getAttribute("id")||"<unknown id>")},i.iOt=function(t,e,n,i){var r={};return Nn(this.QN.vars,r),Nn(e.vars,r),Nn(t.vars,r),new ln(r,n,i)},n}(t.BaseElement);t.registerServiceForDoc("amp-analytics-instrumentation",$i),t.registerServiceForDoc("activity",jt),pr=Qe,gt(mr=ft(mr=t.win),mr,"amp-analytics-linker-reader",pr),t.registerServiceForDoc("amp-analytics-session",tn),t.registerServiceForDoc("amp-analytics-variables",gn),t.registerElement(Ar,Sr)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});